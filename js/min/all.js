function getURLParam(a){"use strict";var b,c,d,e,f="",g=window.location.href,h=!1,i=a+"=",j=i.length;if(g.indexOf("?")>-1)for(b=g.substr(g.indexOf("?")+1),c=b.split("&"),d=0;d<c.length;d++)if(c[d].substr(0,j)===i){e=c[d].split("="),f=e[1],h=!0;break}return h===!1?null:f}function delete_cookie(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function createCookie(a,b){var c='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+a+'"}, {"league":""}, {"season":""}, {"userName":"'+b+'"}]';return c}function getCookie(a){var b,c=document.cookie,d=c.indexOf(" "+a+"=");return-1===d&&(d=c.indexOf(a+"=")),-1===d?c=null:(d=c.indexOf("=",d)+1,b=c.indexOf(";",d),-1===b&&(b=c.length),c=unescape(c.substring(d,b))),c}function setCookie(a,b,c){var d=new Date,e="";null!==c&&d.setDate(d.getDate()+c),e=escape(b)+"; expires="+d.toUTCString(),document.cookie=a+"="+e}function verifyCookieExist(){var a=$.parseJSON(getCookie("players"));(null===getCookie("players")||""===a[3].token)&&(location.href="/index.html")}function addSetHeader(a,b){var c="",d=".play";switch(a){case"/":c="";break;case"/index.php":c="";break;case"/ligas.html":c=i18n.getTranslation("txt_choose_league"),d=".play";break;case"/ranking.html":c=i18n.getTranslation("txt_ranking"),d=".ranking";break;case"/mis-equipos.html":c=i18n.getTranslation("txt_my_teams"),d=".teams";break;case"/ver-equipo.html":c=i18n.getTranslation("txt_show_team"),d=".play";break;case"/reglamento.html":c=i18n.getTranslation("txt_rules"),d=".rules";break;case"/exito.html":c=i18n.getTranslation("txt_congratulations"),d="","#suscribe"===document.location.hash?(console.log("suscription"),$(".suscribe").show()):$(".team-created").show();break;case"/premios.html":c=i18n.getTranslation("txt_prizes"),d=".no";break;case"/editar-equipo.html":c=i18n.getTranslation("txt_edit_team"),d=".no";break;case"/home.html":c="",d=".play";break;case"/perfil.html":c="",d=".no",$(".container-general").css("display","none"),$(document.location.hash).show().addClass("active"),"#login"!==document.location.hash&&"#send-pwd-sms"!==document.location.hash&&verifyCookieExist(),"#subscription-on"===document.location.hash||"#subscription-off"===document.location.hash?(c=i18n.getTranslation("txt_profile"),$("body.subscription-page").addClass("subscription-inactive")):$("body.subscription-page").addClass("subscription-perfil");break;case"/suscripcion.html":c=i18n.getTranslation("txt_suscription"),d="";break;default:c=i18n.getTranslation("txt_create_team"),d=".play"}b=b.replace(i18n.getTranslation("txt_create_team"),c),$(".header").empty().html(b),$(".menu li"+d).addClass("active")}function initialSetTeamCookie(a,b){var c=$.parseJSON(getCookie("players")),d=c[6].userName,e='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+a+'"}, {"league":""}, {"season":""}, {"userName":"'+d+'"}]';setCookie(b,e,1e3)}function includeHeader(){$(".header").length&&$.ajax({url:"/header.html",timeout:1e4,dataType:"script",success:function(a){a=i18n.translateTemplate(a),addSetHeader(document.location.pathname,a),window.scrollTo(0,0);var b=$.parseJSON(getCookie("players")),c=b[3].token||"";("/ligas.html"===document.location.pathname&&""===c||"/terms.html"===document.location.pathname&&""===c||"/crear-equipo.html"===document.location.pathname&&""===c)&&$("a.show-menu").hide()}})}function countPosition(a,b){return a.reduce(function(a,c){return c.position===b?a+1:a},0)}function shortNamePosition(a){var b="";switch(a){case"goalkeeper":b=i18n.getTranslation("txt_goalkeeper");break;case"defender":b=i18n.getTranslation("txt_defender");break;case"midfielder":b=i18n.getTranslation("txt_midfielder");break;case"attacker":b=i18n.getTranslation("txt_attacker");break;case"manager":b=i18n.getTranslation("txt_manager")}return b}function createPlayerRow(a,b,c){var d="",e="";return d=a.id_entry===a.id_home?a.home:a.away,e+='<li class="player-'+b+" "+a.position+'">',e+='<a data-idp="'+a.id_player+'" data-club="'+d+'"data-idClub="'+a.id_entry+'"  data-name="'+a.full_name+'" data-pos="'+a.position+'" href="#" class="ic-choose '+b+'"><span class="rol">'+c+"</span>",e+='<span class="player-name">'+a.full_name+'<span class="club">'+d+"</span></span>",e+='<span class="ic-arrow">&nbsp;</span></a></li>'}function createPlayerRowSee(a,b,c){var d,e,f="";return a.id_home===a.id_entry?(d=a.home,e=a.id_home):(d=a.away,e=a.id_away),f+='<li class="player-'+b+" "+a.position+'">',f+='<a data-idp="'+a.id_player+'" data-club="'+d+'"data-idClub="'+e+'"  data-name="'+a.full_name+'" data-pos="'+a.position+'" href="#" class="ic-choose plus"><span class="rol">'+c+"</span>",f+='<span class="player-name">'+a.full_name+'<span class="club">'+d+"</span></span>",f+='<span class="ic-arrow">'+a.points+"</span></a>",f+='<p class="player-details"></p></li>'}function createListTeamToEdit(a,b,c){var d,e=[],f="",g=countPosition(a,"goalkeeper"),h=countPosition(a,"defender"),i=countPosition(a,"midfielder"),j=countPosition(a,"attacker"),k=countPosition(a,"manager"),l="",m="",n="",o="";e.goalkeeper=e.defender=e.midfielder=e.attacker=e.manager="",$.each(a,function(a,b){m=n=o="",b.id_home===b.id_entry?(m=b.home,n=b.id_home):(m=b.away,n=b.id_away),f+=b.position+":"+b.id_player+":"+b.full_name+":"+m+":"+n+",",o=shortNamePosition(b.position),e[b.position]+="see-team"===c?createPlayerRowSee(b,"plus",o):createPlayerRow(b,"minus",o)}),d='[{"goalkeeper":"'+g+'","defender":"'+h+'","midfielder":"'+i+'","attacker":"'+j+'","manager":"'+k+'"}, {"miPlayers":"'+f+'"}, {"goalkeeper":"'+g+'","defender":"'+h+'","midfielder":"'+i+'","attacker":"'+j+'","manager":"'+k+'"}, {"token":"'+b[3].token+'"}, {"league":"'+b[4].league+'"}, {"season":"'+b[5].season+'"}, {"userName": "'+b[6].userName+'"}]',"see-team"===c?($(".players-list-edit").remove(),l+='<ul class="players-list-edit players-list">'+e.goalkeeper+e.defender+e.midfielder+e.attacker+e.manager+"</ul>"):(l+='<ul class="mi-team players-list">'+e.goalkeeper+e.defender+e.midfielder+e.attacker+e.manager+"</ul>",$(".mi-team").remove()),$(l).insertAfter(".formations"),d[3].token=b[3].token,d[4].league="",d[5].season="",setCookie("players",d,1e3)}function createListTeamToEditLyF(){$(".loading").hide(),$("body.create-team ul.mi-team").toggleClass("mi-team-edit")}function createListFormationLyF(a){$("ul.formations li.selected").removeClass("selected"),2===Number(a.attacker)?5===Number(a.defender)?$("ul.formations li").eq(3).addClass("selected"):$("ul.formations li").eq(1).addClass("selected"):3===Number(a.attacker)&&3===Number(a.defender)?$("ul.formations li").eq(2).addClass("selected"):$("ul.formations li").eq(0).addClass("selected")}function showError(a){var b,c;if(""!==a)if(a instanceof Object)c=b.errors.message;else try{b=$.parseJSON(a),c="null"===b?i18n.getTranslation("msg_service_error"):b.errors.message}catch(d){c=a}else c=i18n.getTranslation("msg_service_error");$("p.msj-error").text(c),$("p.msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)}function showSuccess(a){$("p.msj-success").text(a),$("p.msj-success").show(),setTimeout(function(){$(".msj-success").hide()},3e3)}function timeleft(a){var b;return b=0>=a-1440?a-60>0?Utils.sprintf(i18n.getTranslation("txt_remaining_hours"),Math.floor(a/60)):Utils.sprintf(i18n.getTranslation("txt_remaining_minutes"),a):2880>a?Utils.sprintf(i18n.getTranslation("txt_remaining_day"),Math.floor(a/1440)):Utils.sprintf(i18n.getTranslation("txt_remaining_days"),(a>10080?" + ":"")+Math.floor(a/1440))}function urlTreatment(){if(""!==document.location.hash){var a,b,c,d=$.parseJSON(getCookie("players")),e=document.location.hash.split("=");switch(e[0]){case"#details":break;case"#edit":$(".loading").show(),""!==d[4].league||""!==d[5].season?(a=d[3].token,initialSetTeamCookie("","seleccion"),initialSetTeamCookie(a,"players"),b=e[1],$.ajax({url:API_URL+"/api/me/seats/"+b+"/players",timeout:9e4,data:{token:a},dataType:"json",success:function(a){createListTeamToEdit(a,d,""),createListTeamToEditLyF(),c=$.parseJSON(getCookie("players")),createListFormationLyF(c[2])},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})):location.href="/mis-equipos.html"}}}function showLeagues(){SINGLE_TOURNAMENT||($("div.container-details").hide(),$("div.container-liga").show())}function createLeague(a,b){var c,d,e="";return $.each(a,function(a,f){c=timeleft(f.start_on),""!==b?(d=0==f.active_league?"disable":"",e+='<li class="league-'+f.id_tournament+" league "+d+'"><a data-time-on="'+c+'" data-idSeason="'+f.id_season+'" href="#details"><span class="icon">&nbsp;</span><span class="container"><span class="name">'+f.description+'</span><span class="remaining">'+c+"</span></span></a></li>"):e+='<li data-idLeague="'+f.id_league+'" class="league-'+f.id_tournament+' league" data-idSeason="'+f.id_season+'"><span class="icon">&nbsp;</span><span class="container"><span class="name">'+f.tournament+'</span><span class="remaining"></span></span></li>'}),e}function loadLeagues(){$(".loading").show();var a=null;$.ajax({url:API_URL+"/api/tournaments",dataType:"json",success:function(b){if(SINGLE_TOURNAMENT)b.length&&(a=b.shift(),showDetailsLeague(a.id_season,timeleft(a.start_on)));else{var c=createLeague(b,1);$("ul#teams").empty(),$("ul#teams").append(c)}},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function showDetailsLeague(a,b){$("body.league p.msj-error").hide();var c="",d=API_URL+"/api/leagues/";$.ajax({type:"GET",data:{season:a},url:d,dataType:"json",success:function(a){$("p.current-date").text(Utils.sprintf(i18n.getTranslation("txt_games_this_week"),a.tournament)),$.each(a.events,function(a,b){c+="<li>"+b.home+" vs "+b.away+"</li>"}),$(".container-details ul.list").empty();var b=new Array(a),d="",e=createLeague(b,d);$(".container-details ul.list").append(e),$("ul.matches").empty(),$("ul.matches").append(c),$("div.container-liga").hide(),$("div.container-details").show(),setCookie("current_day_number",a.current_day_number,1e3)},error:function(a){$(".loading").css("display","none"),showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/ligas/detalle/"+a+".html"),$("div.container-details ul.list li .container span.remaining").html(b)}})}function getPlayerPoints(a,b){var c=$.parseJSON(getCookie("players")),d="",e=c[3].token,f=a.attr("data-idp");ga("send","pageview","/ver-equipo/"+b+"/jugador/"+f),$.ajax({type:"GET",url:API_URL+"/api/me/seats/"+b+"/players/"+f+"/incidents",data:{token:e},dataType:"json",success:function(b){$.each(b,function(a,b){d+="<span>"+b.description+": "+b.points+"</span>"}),a.parent("li").children("p.player-details").append(d),a.addClass("fulled")},error:function(b){404===b.status?(a.parent("li").children("p.player-details").append("<span>"+i18n.getTranslation("txt_player_no_points")+"</span>"),a.addClass("fulled")):showError(b.response)},complete:function(){$(".loading").hide()}})}function playersClubCount(a,b){var c,d=a.split(",").clean(""),e="";return $.each(d,function(a){c=d[a].split(":"),c[4]===b&&e++}),e}function changeListByIdClubAdd(a){$.each($("ul.to-select li.player-plus a"),function(b,c){$(c).attr("data-idClub")!==a||$(c).parent("li").hasClass("player-minus")||$(c).parent("li.player-plus").removeClass("player-plus").addClass("player-cancel")})}function changeListByIdClubRemove(a){$.each($("ul.to-select li.player-cancel a"),function(b,c){$(c).attr("data-idClub")===a&&($(c).parent("li.player-cancel").removeClass("player-cancel").addClass("player-plus"),$(c).removeClass("cancel").addClass("plus"))})}function countOccurrenceIdClub(a,b){var c,d=0,e=a.split(",");return $.each(e,function(a){c=e[a].split(":"),c===b.attr("data-idClub")&&d++}),d}function addPlayer(a){var b,c,d=a.attr("data-idp"),e=a.attr("data-pos"),f=a.attr("data-name"),g=a.attr("data-club"),h=a.attr("data-idClub"),i=$.parseJSON(getCookie("seleccion")),j=i[1].miPlayers,k=0;k=playersClubCount(j,h),i[0][e]<i[2][e]&&maxPlayerAllowGeneral>k&&(b=++i[0][e],c=parseInt(i[2][e],10),i[1].miPlayers+=e+":"+d+":"+f+":"+g+":"+h+",",i=JSON.stringify(i),setCookie("seleccion",i,1e3),a.removeClass("plus"),a.addClass("minus"),a.parent("li").addClass("player-minus").removeClass("player-plus"),$(".count-selected").text(b),b===c&&(window.scrollTo(0,0),$(".player-plus").hide(),$(".btn-filters").hide(),$(".player-cancel").hide())),k>=maxPlayerAllowGeneral-1&&(changeListByIdClubAdd(h),k=0)}function removePlayer(a,b){var c,d,e,f,g,h=$.parseJSON(getCookie(b)),i=h[1].miPlayers,j=a.attr("data-pos")+":"+a.attr("data-idp")+":"+a.attr("data-name")+":"+a.attr("data-club")+":"+a.attr("data-idClub")+",";i=i.replace(j,""),$.each(h[0],function(f,g){f===a.attr("data-pos")&&(g--,h[0][f]=g,h[1].miPlayers=i,c=h[0][f],d=h[2][f],h=JSON.stringify(h),setCookie(b,h,1e3),a.parent("li").removeClass("player-minus").addClass("player-plus"),e=parseInt($(".count-selected").text(),10)-1,$(".count-selected").text(e),d>c&&($(".player-plus").show(),$(".btn-filters").show(),$(".player-cancel").show()))}),f=a.attr("data-idClub"),g=countOccurrenceIdClub(i,a),0===g&&changeListByIdClubRemove(f)}function formatPlayer(a,b){var c,d=[];return d.position=a[0],d.id_player=a[1],d.full_name=a[2],d.home=a[3],d.id_entry=a[4],d.id_home=a[4],c=shortNamePosition(d.position),"minus"!==b&&(b="plus"),createPlayerRow(d,b,c)}function createListSelectPlayerJson(a,b,c,d){var e,f,g,h,i,j,k="",l=[],m=[];""===d&&setCookie("seleccion",getCookie("players"),1e3),e=$.parseJSON(getCookie("seleccion")),f=e[1].miPlayers.split(",").clean(""),$.each(f,function(a,b){g=b.split(":"),g[0]===c&&l.push(g[1]),m[g[4]]=++m[g[4]]||1}),$.each(a,function(b){a[b].position===c&&(h=a[b].id_player,i="",j=shortNamePosition(a[b].position),i=-1!==l.indexOf(h)?"minus":m[a[b].id_entry]===maxPlayerAllowGeneral?"cancel":"plus",k+=createPlayerRow(a[b],i,j))}),$("#players").html("<ul class='players-list to-select'>"+k+'</ul><a class="btn-back-team" href="javascript:void(0);">'+i18n.getTranslation("btn_save_selection")+"</a>")}function createListSelectPlayer(a){var b,c,d,e,f,g,h=a[1].miPlayers.split(","),i=a[2],j=[],k=[],l="";j.goalkeeper=0,j.defender=0,j.midfielder=0,j.attacker=0,j.manager=0,k.goalkeeper="",k.defender="",k.midfielder="",k.attacker="",k.manager="",$.each(h,function(e){b=h[e].split(":"),c="minus",""!==b[0]&&(j[b[0]]<i[b[0]]&&"goalkeeper"!==b[0]&&"manager"!==b[0]?(k[b[0]]+=formatPlayer(b,c),j[b[0]]++):"goalkeeper"===b[0]||"manager"===b[0]?(k[b[0]]+=formatPlayer(b,c),j[b[0]]=1):(d=h[e]+",",a[0][b[0]]=a[0][b[0]]-1,a[1].miPlayers=a[1].miPlayers.replace(d,"")))}),$.each(i,function(a){if(e=shortNamePosition(a),f=i[a]-j[a],f>0)for(g=1;f>=g;g++)text=i18n.getTranslation("manager"==a?"txt_select_mgr":"txt_select_player"),k[a]+='<li class="player-plus '+a+'"><a data-pos="'+a+'" href="#" class="ic-choose plus"><span class="rol">'+e+'</span><span class="player-name">'+text+'</span><span class="ic-arrow">&nbsp;</span></a></li>'}),l='<ul class="mi-team players-list">'+k.goalkeeper+k.defender+k.midfielder+k.attacker+k.manager+"</ul>",a=JSON.stringify(a),setCookie("players",a,1e3),$(".mi-team").remove(),$(l).insertAfter(".formations")}function createFilters(a){var b="";$.each(a,function(a,c){b+='<li class="plus"><a href="#" data-event="'+c.id_event+'"><span class="filter-match"><span>'+c.home+"</span> vs <span>"+c.away+'</span> </span><span class="ic-arrow"></span></a></li>'}),""!==b&&($(".filter-list").empty(),$(".filter-list").append(b))}function callMatches(a){var b=API_URL+"/api/leagues/";$(".loading").show(),$.ajax({type:"GET",url:b,data:{season:a},dataType:"json",success:function(b){window.scrollTo(0,0),""!==a&&(createFilters(b.events),location.hash="filter",$("#players").toggle(),$("#filters").toggle(),$("span.text-title").empty().text(i18n.getTranslation("txt_filter_by_game")),$(".count-rol").toggle(),$("body").toggleClass("show-msj filter-msj"))},error:function(a){showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/equipo/filtrar-partidos.html")}})}function callPlayersFiltersLyF(){$("#players").toggle(),$("#filters").toggle(),$(".count-rol").toggle(),$("body").toggleClass("show-msj filter-msj"),$("span.text-title").empty().text(i18n.getTranslation("txt_select_players"))}function callPlayersLyF(a,b){location.hash="seleccion",$(".page-title span.text-title").text(i18n.getTranslation("txt_select_players"));var c="--";switch(a){case"goalkeeper":c=i18n.getTranslation("txt_goalkeeper_lbl");break;case"defender":c=i18n.getTranslation("txt_defender_lbl");break;case"midfielder":c=i18n.getTranslation("txt_midfielder_lbl");break;case"attacker":c=i18n.getTranslation("txt_attacker_lbl");break;case"manager":c=i18n.getTranslation("txt_manager_lbl")}$("p.count-rol .rol").text(c).attr("position",a),$(".btn-done, .btn-edit-team").toggle(),$("#subtitle").toggle(),$("body").addClass("show-msj"),$(".mi-team").toggle(),$("#players").toggle(),$(".count-rol").attr("class","count-rol "+a).toggle(),$("a.ic-choose.plus span.rol").text(),$(".count-selected").text(b[0][a]),$(".maximum-number").text(b[2][a])}function callPlayers(a,b){$(".loading").show();var c,d=$.parseJSON(getCookie("players")),e=d[4].league,f=API_URL+"/api/leagues/"+e+"/events/players/q?";$.ajax({type:"GET",data:{position:a,events:b,offset:0,limit:200},url:f,dataType:"json",success:function(e){window.scrollTo(0,0),c=d[2],createListSelectPlayerJson(e,c,a,b),""===b?($(".mi-team li a").addClass("ic-choose"),callPlayersLyF(a,d)):window.history.back()},error:function(a){showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/equipo/seleccionar-jugadores/"+a+".html")}})}function callPlayersFilter(a){var b=[],c=$("div.header p span.count-container span.rol").attr("position");$.each(a,function(a,c){b.push($(c).children("a").attr("data-event"))}),callPlayers(c,b),$("span.text-title").empty().text(i18n.getTranslation("txt_players_selection"))}function createRanking(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=(a[6].userName,{success:function(a){var b=BuildMarkUp.dayNumberRankings(a);$(".day-number-list").append(b)},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}});dataservice.getDayNumbersRankingsBySeasonId(DEFAULT_SELECTED_SEASON_ID,b,c)}function initialFormation(){$("#main-content").show();var a=$.parseJSON(getCookie("players")),b=a[2];createListSelectPlayer(a),createListFormationLyF(b)}function showPlayersSelectionLyF(){$("#players").toggle(),$(".mi-team").show(),$(".btn-filters").show(),$(".btn-done, .btn-edit-team").toggle(),$("body").removeClass("show-msj"),$(".count-rol").toggle(),$("#subtitle").toggle()}function myTeamsWeek(a,b){var c;$(".loading").show(),$.ajax({type:"GET",url:API_URL+"/api/me/seats/q",data:{token:a,offset:0,limit:paginationResultPerPage+1,time:b},dataType:"json",success:function(c){hideMoreButton=c.seats.length<paginationResultPerPage+1,hideMoreButton||($("."+b).find(".paginator").show(),c.seats.pop(),$("."+b).paginator(a,{offset:paginationResultPerPage,time:b,paginationResultPerPage:paginationResultPerPage})),BuildMarkUp.loadMatch(c,b)},error:function(a){404!==a.status?"last_week"!==b?showError(a.response):""!==a.response?(c=$.parseJSON(a.response),$(".last-week-match .msj-error").text(c.errors.message)):$(".last-week-match .msj-error").text(i18n.getTranslation("msg_service_error")):$("."+b+" .teams-container").html('<li class="normal"><a class="match ic-arrow" href="#">'+i18n.getTranslation("txt_no_teams")+"</a></li>")},complete:function(){$(".loading").hide()}})}function statsWeek(a){$(".loading").show();var b,c;myTeamsWeek(a,"current_week"),myTeamsWeek(a,"last_week"),myTeamsWeek(a,"next_week"),$.ajax({type:"GET",url:API_URL+"/api/stats",data:{token:a},dataType:"json",success:function(a){b='<p class="week-date"><span></span></p>',c='<p class="week-date"><span>'+Utils.sprintf(i18n.getTranslation("txt_sum_points"),a.last_week_points)+"</span></p>",$(".current-week-match .stats").html(b),$(".last-week-match .stats").html(c),$(".next-week-match .stats").html(b)},error:function(a){404===a&&showError(a.response)},complete:function(){$(".loading").hide()}})}function saveTeam(a,b,c,d){var e=[];$.each(a,function(a,b){var c=b.split(":");e.push(c[1])}),ga("send","pageview","/guardar-equipo"),$(".loading").show(),$.ajax({type:"POST",data:{id_league:c,formation:b,players:e,token:d},url:API_URL+"/api/me/seats",dataType:"json",success:function(a){""!==a?void 0!==a.errors?showError(a.errors.message):(initialSetTeamCookie("","seleccion"),initialSetTeamCookie(d,"players"),location.href="/exito.html"):location.href="/error.html"},error:function(a){var b=$.parseJSON(a.response);1011===b.errors.code?location.href="/suscripcion.html#create-team":showError(a.response)},complete:function(){$(".loading").hide()}})}function editTeam(a,b,c,d,e){var f=[];$.each(a,function(a,b){var c=b.split(":");f.push(c[1])}),$(".loading").show(),ga("send","pageview","/actualizar-equipo/id_league/"+c+"/id_league_user/"+d),$.ajax({type:"POST",data:{id_league:c,id_league_user:d,formation:b,players:f,token:e},url:API_URL+"/api/me/seats/"+d,dataType:"json",success:function(a){""!==a?void 0!==a.errors?showError(a):(initialSetTeamCookie("","seleccion"),initialSetTeamCookie(e,"players"),location.href="/mis-equipos"):location.href="/error.html"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function verifySubscription(){$(".loading").show();var a=$.parseJSON(getCookie("players")),b=a[3].token,c=API_URL+"/api/me/subscriptions";$.ajax({type:"GET",data:{token:b},url:c,dataType:"json",success:function(a){a.subscribed===!0?(location.replace("#subscription-on"),location.reload()):(location.replace("#subscription-off"),location.reload())},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function sendLogin(a,b,c){$(".loading").show(),$.ajax({type:"POST",data:{ani:a,pin:b},url:"/login.php",dataType:"json",success:function(a){var b,d,e,f,g,h=a.token;""!==h?"saveTeam"===c?(b=$.parseJSON(getCookie("players")),d=b[1].miPlayers.split(",").clean(""),e=b[4].league,f=b[0].defender+"-"+b[0].midfielder+"-"+b[0].attacker,b[3].token=h,b=JSON.stringify(b),setCookie("players",b,1e3),saveTeam(d,f,e,h)):(g='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+h+'"}, {"league":""}, {"season":""}, {"userName":""}]',setCookie("players",g,1e3),location.href="/home.html"):showError(a)},error:function(a){showError(a.response),$(".loading").hide()}})}function backButtonCel(){window.history&&window.history.pushState&&$(window).on("popstate",function(){var a,b=location.hash,c=b.split("#!/"),d=c[1];""!==d&&(a=window.location.hash,""===a&&(showLeagues(),document.location.hash=""))})}function setUser(a){var b=a[3].token;$.ajax({type:"GET",data:{token:b},url:API_URL+"/api/me",dataType:"json",success:function(b){a[6].userName=b.nick,a=JSON.stringify(a),setCookie("players",a,1e3),$("a.btn-play").css("display","block")},error:function(b){$(".btn-play").attr("href","/ligas.html"),$(".btn-play").addClass("btn-play-liga"),$(".btn-play").css("display","block"),$(".login").css("display","block"),a[3].token="",a=JSON.stringify(a),setCookie("players",a,1e3),showError(b.response)},complete:function(){$(".loading").hide()}})}function homeUserData(a){var b=$.parseJSON(getCookie("players"));b[6].userName=a.nick,b=JSON.stringify(b),setCookie("players",b,1e3),$("body.home div.current-week span.user-name").text(a.nick),$("body.home div.current-week p.teams-created span.teams-quantity").text(a.current_week_teams_created),$("body.home div.current-week p.teams-created span.team-text").text(i18n.getTranslation(1==a.current_week_teams_created?"msg_team_created":"msg_teams_created")),$("body.home div.last-week p.user-ranking span.user-rank").text(a.last_week_rank),$("body.home div.last-week p.user-ranking span.user-points").text(a.last_week_points),$("body.home div.last-week p.user-winner span.user-nick").text(a.last_week_winner),$("body.home div.last-week p.user-winner span.user-points").text(a.last_week_winner_points),a.subscribed===!1&&$(".banner").show()}function getUserStats(a){$.ajax({type:"GET",data:{token:a},url:API_URL+"/api/me/stats",dataType:"json",success:function(a){homeUserData(a)},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function addPrizeLyF(a){var b="";$.each(a,function(){b+='<li><img src="'+a.url+'" alt="premio "></li>'}),$("ul.awards-image").append(b)}function callPrizes(){var a=$.parseJSON(getCookie("players")),b=a[3].token;$.ajax({type:"GET",data:{token:b},url:API_URL+"/api/contents/prize",dataType:"json",success:function(a){""!==a?addPrizeLyF(a):location.href="/error.html"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function showTeam(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=document.location.hash.split("="),d=c[1];initialSetTeamCookie("","seleccion"),initialSetTeamCookie(b,"players"),$.ajax({url:API_URL+"/api/me/seats/"+d,timeout:9e4,data:{token:b},dataType:"json",success:function(a){a instanceof Array&&void 0!==a[0]&&$(".header-top").html("<p"+(a[0].is_winner?' class="winner">':">")+"<span>ID "+d+"</span>"+a[0].name+"<span>"+i18n.getTranslation("txt_total_points")+": "+a[0].points+"</span></p>")}}),$.ajax({url:API_URL+"/api/me/seats/"+d+"/players",timeout:9e4,data:{token:b},dataType:"json",success:function(b){createListTeamToEdit(b,a,"see-team")},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function suscription(a){$("#suscribe").click(function(){$(".loading").show(),$.ajax({type:"POST",data:{token:a},url:API_URL+"/api/me/subscriptions/subscribe",dataType:"json",success:function(){"#create-team"===document.location.hash?(miTeamCookie=$.parseJSON(getCookie("players")),miPlayers=miTeamCookie[1].miPlayers.split(",").clean(""),id_league=miTeamCookie[4].league,formation=miTeamCookie[0].defender+"-"+miTeamCookie[0].midfielder+"-"+miTeamCookie[0].attacker,miTeamCookie[3].token=a,miTeamCookie=JSON.stringify(miTeamCookie),setCookie("players",miTeamCookie,1e3),saveTeam(miPlayers,formation,id_league,a)):location.href="/exito.html"+document.location.hash},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})})}function crearEquipoInit(){var a=$.parseJSON(getCookie("players")),b=a[4].league,c=a[5].season;if(b&&c){var a=$.parseJSON(getCookie("players"));a[4].league=b,a[5].season=c,a=JSON.stringify(a),setCookie("players",a,1e3),initialFormation();var d=i18n.getTranslation("lbl_round_"+getCookie("current_day_number"));$("#subtitle-round").text(d?d:"Fecha actual")}else{$(".loading").show();var a=$.parseJSON(getCookie("players"));initialSetTeamCookie("","seleccion"),initialSetTeamCookie(a[3].token,"players");var c="",e=!1;$.ajax({url:API_URL+"/api/tournaments",dataType:"json",success:function(a){$.each(a,function(a,b){return"undefined"!=typeof DEFAULT_SELECTED_SEASON_ID&&b.id_season==DEFAULT_SELECTED_SEASON_ID&&1==b.active_league?(c=b.id_season,e=!0,!1):void 0}),1==e?$.ajax({type:"GET",data:{season:c},url:API_URL+"/api/leagues/",dataType:"json",success:function(a){var b=$.parseJSON(getCookie("players"));b[4].league=a.id_league,b[5].season=c,b=JSON.stringify(b),setCookie("players",b,1e3),setCookie("current_day_number",a.current_day_number,1e3);var d=i18n.getTranslation("lbl_round_"+getCookie("current_day_number"));return $("#subtitle-round").text(d?d:"Fecha actual"),initialFormation(),!1},error:function(){location.href="/ligas.html"},complete:function(){$(".loading").hide()}}):location.href="/ligas.html"},error:function(){location.href="/ligas.html"}})}}function getURLParam(a){"use strict";var b,c,d,e,f="",g=window.location.href,h=!1,i=a+"=",j=i.length;if(g.indexOf("?")>-1)for(b=g.substr(g.indexOf("?")+1),c=b.split("&"),d=0;d<c.length;d++)if(c[d].substr(0,j)===i){e=c[d].split("="),f=e[1],h=!0;break}return h===!1?null:f}function delete_cookie(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function createCookie(a,b){var c='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+a+'"}, {"league":""}, {"season":""}, {"userName":"'+b+'"}]';return c}function getCookie(a){var b,c=document.cookie,d=c.indexOf(" "+a+"=");return-1===d&&(d=c.indexOf(a+"=")),-1===d?c=null:(d=c.indexOf("=",d)+1,b=c.indexOf(";",d),-1===b&&(b=c.length),c=unescape(c.substring(d,b))),c}function setCookie(a,b,c){var d=new Date,e="";null!==c&&d.setDate(d.getDate()+c),e=escape(b)+"; expires="+d.toUTCString(),document.cookie=a+"="+e}function verifyCookieExist(){var a=$.parseJSON(getCookie("players"));(null===getCookie("players")||""===a[3].token)&&(location.href="/index.html")}function addSetHeader(a,b){var c="",d=".play";switch(a){case"/":c="";break;case"/index.php":c="";break;case"/ligas.html":c=i18n.getTranslation("txt_choose_league"),d=".play";break;case"/ranking.html":c=i18n.getTranslation("txt_ranking"),d=".ranking";break;case"/mis-equipos.html":c=i18n.getTranslation("txt_my_teams"),d=".teams";break;case"/ver-equipo.html":c=i18n.getTranslation("txt_show_team"),d=".play";break;case"/reglamento.html":c=i18n.getTranslation("txt_rules"),d=".rules";break;case"/exito.html":c=i18n.getTranslation("txt_congratulations"),d="","#suscribe"===document.location.hash?(console.log("suscription"),$(".suscribe").show()):$(".team-created").show();break;case"/premios.html":c=i18n.getTranslation("txt_prizes"),d=".no";break;case"/editar-equipo.html":c=i18n.getTranslation("txt_edit_team"),d=".no";break;case"/home.html":c="",d=".play";break;case"/perfil.html":c="",d=".no",$(".container-general").css("display","none"),$(document.location.hash).show().addClass("active"),"#login"!==document.location.hash&&"#send-pwd-sms"!==document.location.hash&&verifyCookieExist(),"#subscription-on"===document.location.hash||"#subscription-off"===document.location.hash?(c=i18n.getTranslation("txt_profile"),$("body.subscription-page").addClass("subscription-inactive")):$("body.subscription-page").addClass("subscription-perfil");break;case"/suscripcion.html":c=i18n.getTranslation("txt_suscription"),d="";break;default:c=i18n.getTranslation("txt_create_team"),d=".play"}b=b.replace(i18n.getTranslation("txt_create_team"),c),$(".header").empty().html(b),$(".menu li"+d).addClass("active")}function initialSetTeamCookie(a,b){var c=$.parseJSON(getCookie("players")),d=c[6].userName,e='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+a+'"}, {"league":""}, {"season":""}, {"userName":"'+d+'"}]';setCookie(b,e,1e3)}function includeHeader(){$(".header").length&&$.ajax({url:"/header.html",timeout:1e4,dataType:"script",success:function(a){a=i18n.translateTemplate(a),addSetHeader(document.location.pathname,a),window.scrollTo(0,0);var b=$.parseJSON(getCookie("players")),c=b[3].token||"";("/ligas.html"===document.location.pathname&&""===c||"/terms.html"===document.location.pathname&&""===c||"/crear-equipo.html"===document.location.pathname&&""===c)&&$("a.show-menu").hide()}})}function countPosition(a,b){return a.reduce(function(a,c){return c.position===b?a+1:a},0)}function shortNamePosition(a){var b="";switch(a){case"goalkeeper":b=i18n.getTranslation("txt_goalkeeper");break;case"defender":b=i18n.getTranslation("txt_defender");break;case"midfielder":b=i18n.getTranslation("txt_midfielder");break;case"attacker":b=i18n.getTranslation("txt_attacker");break;case"manager":b=i18n.getTranslation("txt_manager")}return b}function createPlayerRow(a,b,c){var d="",e="";return d=a.id_entry===a.id_home?a.home:a.away,e+='<li class="player-'+b+" "+a.position+'">',e+='<a data-idp="'+a.id_player+'" data-club="'+d+'"data-idClub="'+a.id_entry+'"  data-name="'+a.full_name+'" data-pos="'+a.position+'" href="#" class="ic-choose '+b+'"><span class="rol">'+c+"</span>",e+='<span class="player-name">'+a.full_name+'<span class="club">'+d+"</span></span>",e+='<span class="ic-arrow">&nbsp;</span></a></li>'
}function createPlayerRowSee(a,b,c){var d,e,f="";return a.id_home===a.id_entry?(d=a.home,e=a.id_home):(d=a.away,e=a.id_away),f+='<li class="player-'+b+" "+a.position+'">',f+='<a data-idp="'+a.id_player+'" data-club="'+d+'"data-idClub="'+e+'"  data-name="'+a.full_name+'" data-pos="'+a.position+'" href="#" class="ic-choose plus"><span class="rol">'+c+"</span>",f+='<span class="player-name">'+a.full_name+'<span class="club">'+d+"</span></span>",f+='<span class="ic-arrow">'+a.points+"</span></a>",f+='<p class="player-details"></p></li>'}function createListTeamToEdit(a,b,c){var d,e=[],f="",g=countPosition(a,"goalkeeper"),h=countPosition(a,"defender"),i=countPosition(a,"midfielder"),j=countPosition(a,"attacker"),k=countPosition(a,"manager"),l="",m="",n="",o="";e.goalkeeper=e.defender=e.midfielder=e.attacker=e.manager="",$.each(a,function(a,b){m=n=o="",b.id_home===b.id_entry?(m=b.home,n=b.id_home):(m=b.away,n=b.id_away),f+=b.position+":"+b.id_player+":"+b.full_name+":"+m+":"+n+",",o=shortNamePosition(b.position),e[b.position]+="see-team"===c?createPlayerRowSee(b,"plus",o):createPlayerRow(b,"minus",o)}),d='[{"goalkeeper":"'+g+'","defender":"'+h+'","midfielder":"'+i+'","attacker":"'+j+'","manager":"'+k+'"}, {"miPlayers":"'+f+'"}, {"goalkeeper":"'+g+'","defender":"'+h+'","midfielder":"'+i+'","attacker":"'+j+'","manager":"'+k+'"}, {"token":"'+b[3].token+'"}, {"league":"'+b[4].league+'"}, {"season":"'+b[5].season+'"}, {"userName": "'+b[6].userName+'"}]',"see-team"===c?($(".players-list-edit").remove(),l+='<ul class="players-list-edit players-list">'+e.goalkeeper+e.defender+e.midfielder+e.attacker+e.manager+"</ul>"):(l+='<ul class="mi-team players-list">'+e.goalkeeper+e.defender+e.midfielder+e.attacker+e.manager+"</ul>",$(".mi-team").remove()),$(l).insertAfter(".formations"),d[3].token=b[3].token,d[4].league="",d[5].season="",setCookie("players",d,1e3)}function createListTeamToEditLyF(){$(".loading").hide(),$("body.create-team ul.mi-team").toggleClass("mi-team-edit")}function createListFormationLyF(a){$("ul.formations li.selected").removeClass("selected"),2===Number(a.attacker)?5===Number(a.defender)?$("ul.formations li").eq(3).addClass("selected"):$("ul.formations li").eq(1).addClass("selected"):3===Number(a.attacker)&&3===Number(a.defender)?$("ul.formations li").eq(2).addClass("selected"):$("ul.formations li").eq(0).addClass("selected")}function showError(a){var b,c;if(""!==a)if(a instanceof Object)c=b.errors.message;else try{b=$.parseJSON(a),c="null"===b?i18n.getTranslation("msg_service_error"):b.errors.message}catch(d){c=a}else c=i18n.getTranslation("msg_service_error");$("p.msj-error").text(c),$("p.msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)}function showSuccess(a){$("p.msj-success").text(a),$("p.msj-success").show(),setTimeout(function(){$(".msj-success").hide()},3e3)}function timeleft(a){var b;return b=0>=a-1440?a-60>0?Utils.sprintf(i18n.getTranslation("txt_remaining_hours"),Math.floor(a/60)):Utils.sprintf(i18n.getTranslation("txt_remaining_minutes"),a):2880>a?Utils.sprintf(i18n.getTranslation("txt_remaining_day"),Math.floor(a/1440)):Utils.sprintf(i18n.getTranslation("txt_remaining_days"),(a>10080?" + ":"")+Math.floor(a/1440))}function urlTreatment(){if(""!==document.location.hash){var a,b,c,d=$.parseJSON(getCookie("players")),e=document.location.hash.split("=");switch(e[0]){case"#details":break;case"#edit":$(".loading").show(),""!==d[4].league||""!==d[5].season?(a=d[3].token,initialSetTeamCookie("","seleccion"),initialSetTeamCookie(a,"players"),b=e[1],$.ajax({url:API_URL+"/api/me/seats/"+b+"/players",timeout:9e4,data:{token:a},dataType:"json",success:function(a){createListTeamToEdit(a,d,""),createListTeamToEditLyF(),c=$.parseJSON(getCookie("players")),createListFormationLyF(c[2])},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})):location.href="/mis-equipos.html"}}}function showLeagues(){SINGLE_TOURNAMENT||($("div.container-details").hide(),$("div.container-liga").show())}function createLeague(a,b){var c,d,e="";return $.each(a,function(a,f){c=timeleft(f.start_on),""!==b?(d=0==f.active_league?"disable":"",e+='<li class="league-'+f.id_tournament+" league "+d+'"><a data-time-on="'+c+'" data-idSeason="'+f.id_season+'" href="#details"><span class="icon">&nbsp;</span><span class="container"><span class="name">'+f.description+'</span><span class="remaining">'+c+"</span></span></a></li>"):e+='<li data-idLeague="'+f.id_league+'" class="league-'+f.id_tournament+' league" data-idSeason="'+f.id_season+'"><span class="icon">&nbsp;</span><span class="container"><span class="name">'+f.tournament+'</span><span class="remaining"></span></span></li>'}),e}function loadLeagues(){$(".loading").show();var a=null;$.ajax({url:API_URL+"/api/tournaments",dataType:"json",success:function(b){if(SINGLE_TOURNAMENT)b.length&&(a=b.shift(),showDetailsLeague(a.id_season,timeleft(a.start_on)));else{var c=createLeague(b,1);$("ul#teams").empty(),$("ul#teams").append(c)}},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function showDetailsLeague(a,b){$("body.league p.msj-error").hide();var c="",d=API_URL+"/api/leagues/";$.ajax({type:"GET",data:{season:a},url:d,dataType:"json",success:function(a){$("p.current-date").text(Utils.sprintf(i18n.getTranslation("txt_games_this_week"),a.tournament)),$.each(a.events,function(a,b){c+="<li>"+b.home+" vs "+b.away+"</li>"}),$(".container-details ul.list").empty();var b=new Array(a),d="",e=createLeague(b,d);$(".container-details ul.list").append(e),$("ul.matches").empty(),$("ul.matches").append(c),$("div.container-liga").hide(),$("div.container-details").show(),setCookie("current_day_number",a.current_day_number,1e3)},error:function(a){$(".loading").css("display","none"),showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/ligas/detalle/"+a+".html"),$("div.container-details ul.list li .container span.remaining").html(b)}})}function getPlayerPoints(a,b){var c=$.parseJSON(getCookie("players")),d="",e=c[3].token,f=a.attr("data-idp");ga("send","pageview","/ver-equipo/"+b+"/jugador/"+f),$.ajax({type:"GET",url:API_URL+"/api/me/seats/"+b+"/players/"+f+"/incidents",data:{token:e},dataType:"json",success:function(b){$.each(b,function(a,b){d+="<span>"+b.description+": "+b.points+"</span>"}),a.parent("li").children("p.player-details").append(d),a.addClass("fulled")},error:function(b){404===b.status?(a.parent("li").children("p.player-details").append("<span>"+i18n.getTranslation("txt_player_no_points")+"</span>"),a.addClass("fulled")):showError(b.response)},complete:function(){$(".loading").hide()}})}function playersClubCount(a,b){var c,d=a.split(",").clean(""),e="";return $.each(d,function(a){c=d[a].split(":"),c[4]===b&&e++}),e}function changeListByIdClubAdd(a){$.each($("ul.to-select li.player-plus a"),function(b,c){$(c).attr("data-idClub")!==a||$(c).parent("li").hasClass("player-minus")||$(c).parent("li.player-plus").removeClass("player-plus").addClass("player-cancel")})}function changeListByIdClubRemove(a){$.each($("ul.to-select li.player-cancel a"),function(b,c){$(c).attr("data-idClub")===a&&($(c).parent("li.player-cancel").removeClass("player-cancel").addClass("player-plus"),$(c).removeClass("cancel").addClass("plus"))})}function countOccurrenceIdClub(a,b){var c,d=0,e=a.split(",");return $.each(e,function(a){c=e[a].split(":"),c===b.attr("data-idClub")&&d++}),d}function addPlayer(a){var b,c,d=a.attr("data-idp"),e=a.attr("data-pos"),f=a.attr("data-name"),g=a.attr("data-club"),h=a.attr("data-idClub"),i=$.parseJSON(getCookie("seleccion")),j=i[1].miPlayers,k=0;k=playersClubCount(j,h),i[0][e]<i[2][e]&&maxPlayerAllowGeneral>k&&(b=++i[0][e],c=parseInt(i[2][e],10),i[1].miPlayers+=e+":"+d+":"+f+":"+g+":"+h+",",i=JSON.stringify(i),setCookie("seleccion",i,1e3),a.removeClass("plus"),a.addClass("minus"),a.parent("li").addClass("player-minus").removeClass("player-plus"),$(".count-selected").text(b),b===c&&(window.scrollTo(0,0),$(".player-plus").hide(),$(".btn-filters").hide(),$(".player-cancel").hide())),k>=maxPlayerAllowGeneral-1&&(changeListByIdClubAdd(h),k=0)}function removePlayer(a,b){var c,d,e,f,g,h=$.parseJSON(getCookie(b)),i=h[1].miPlayers,j=a.attr("data-pos")+":"+a.attr("data-idp")+":"+a.attr("data-name")+":"+a.attr("data-club")+":"+a.attr("data-idClub")+",";i=i.replace(j,""),$.each(h[0],function(f,g){f===a.attr("data-pos")&&(g--,h[0][f]=g,h[1].miPlayers=i,c=h[0][f],d=h[2][f],h=JSON.stringify(h),setCookie(b,h,1e3),a.parent("li").removeClass("player-minus").addClass("player-plus"),e=parseInt($(".count-selected").text(),10)-1,$(".count-selected").text(e),d>c&&($(".player-plus").show(),$(".btn-filters").show(),$(".player-cancel").show()))}),f=a.attr("data-idClub"),g=countOccurrenceIdClub(i,a),0===g&&changeListByIdClubRemove(f)}function formatPlayer(a,b){var c,d=[];return d.position=a[0],d.id_player=a[1],d.full_name=a[2],d.home=a[3],d.id_entry=a[4],d.id_home=a[4],c=shortNamePosition(d.position),"minus"!==b&&(b="plus"),createPlayerRow(d,b,c)}function createListSelectPlayerJson(a,b,c,d){var e,f,g,h,i,j,k="",l=[],m=[];""===d&&setCookie("seleccion",getCookie("players"),1e3),e=$.parseJSON(getCookie("seleccion")),f=e[1].miPlayers.split(",").clean(""),$.each(f,function(a,b){g=b.split(":"),g[0]===c&&l.push(g[1]),m[g[4]]=++m[g[4]]||1}),$.each(a,function(b){a[b].position===c&&(h=a[b].id_player,i="",j=shortNamePosition(a[b].position),i=-1!==l.indexOf(h)?"minus":m[a[b].id_entry]===maxPlayerAllowGeneral?"cancel":"plus",k+=createPlayerRow(a[b],i,j))}),$("#players").html("<ul class='players-list to-select'>"+k+'</ul><a class="btn-back-team" href="javascript:void(0);">'+i18n.getTranslation("btn_save_selection")+"</a>")}function createListSelectPlayer(a){var b,c,d,e,f,g,h=a[1].miPlayers.split(","),i=a[2],j=[],k=[],l="";j.goalkeeper=0,j.defender=0,j.midfielder=0,j.attacker=0,j.manager=0,k.goalkeeper="",k.defender="",k.midfielder="",k.attacker="",k.manager="",$.each(h,function(e){b=h[e].split(":"),c="minus",""!==b[0]&&(j[b[0]]<i[b[0]]&&"goalkeeper"!==b[0]&&"manager"!==b[0]?(k[b[0]]+=formatPlayer(b,c),j[b[0]]++):"goalkeeper"===b[0]||"manager"===b[0]?(k[b[0]]+=formatPlayer(b,c),j[b[0]]=1):(d=h[e]+",",a[0][b[0]]=a[0][b[0]]-1,a[1].miPlayers=a[1].miPlayers.replace(d,"")))}),$.each(i,function(a){if(e=shortNamePosition(a),f=i[a]-j[a],f>0)for(g=1;f>=g;g++)text=i18n.getTranslation("manager"==a?"txt_select_mgr":"txt_select_player"),k[a]+='<li class="player-plus '+a+'"><a data-pos="'+a+'" href="#" class="ic-choose plus"><span class="rol">'+e+'</span><span class="player-name">'+text+'</span><span class="ic-arrow">&nbsp;</span></a></li>'}),l='<ul class="mi-team players-list">'+k.goalkeeper+k.defender+k.midfielder+k.attacker+k.manager+"</ul>",a=JSON.stringify(a),setCookie("players",a,1e3),$(".mi-team").remove(),$(l).insertAfter(".formations")}function createFilters(a){var b="";$.each(a,function(a,c){b+='<li class="plus"><a href="#" data-event="'+c.id_event+'"><span class="filter-match"><span>'+c.home+"</span> vs <span>"+c.away+'</span> </span><span class="ic-arrow"></span></a></li>'}),""!==b&&($(".filter-list").empty(),$(".filter-list").append(b))}function callMatches(a){var b=API_URL+"/api/leagues/";$(".loading").show(),$.ajax({type:"GET",url:b,data:{season:a},dataType:"json",success:function(b){window.scrollTo(0,0),""!==a&&(createFilters(b.events),location.hash="filter",$("#players").toggle(),$("#filters").toggle(),$("span.text-title").empty().text(i18n.getTranslation("txt_filter_by_game")),$(".count-rol").toggle(),$("body").toggleClass("show-msj filter-msj"))},error:function(a){showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/equipo/filtrar-partidos.html")}})}function callPlayersFiltersLyF(){$("#players").toggle(),$("#filters").toggle(),$(".count-rol").toggle(),$("body").toggleClass("show-msj filter-msj"),$("span.text-title").empty().text(i18n.getTranslation("txt_select_players"))}function callPlayersLyF(a,b){location.hash="seleccion",$(".page-title span.text-title").text(i18n.getTranslation("txt_select_players"));var c="--";switch(a){case"goalkeeper":c=i18n.getTranslation("txt_goalkeeper_lbl");break;case"defender":c=i18n.getTranslation("txt_defender_lbl");break;case"midfielder":c=i18n.getTranslation("txt_midfielder_lbl");break;case"attacker":c=i18n.getTranslation("txt_attacker_lbl");break;case"manager":c=i18n.getTranslation("txt_manager_lbl")}$("p.count-rol .rol").text(c).attr("position",a),$(".btn-done, .btn-edit-team").toggle(),$("#subtitle").toggle(),$("body").addClass("show-msj"),$(".mi-team").toggle(),$("#players").toggle(),$(".count-rol").attr("class","count-rol "+a).toggle(),$("a.ic-choose.plus span.rol").text(),$(".count-selected").text(b[0][a]),$(".maximum-number").text(b[2][a])}function callPlayers(a,b){$(".loading").show();var c,d=$.parseJSON(getCookie("players")),e=d[4].league,f=API_URL+"/api/leagues/"+e+"/events/players/q?";$.ajax({type:"GET",data:{position:a,events:b,offset:0,limit:200},url:f,dataType:"json",success:function(e){window.scrollTo(0,0),c=d[2],createListSelectPlayerJson(e,c,a,b),""===b?($(".mi-team li a").addClass("ic-choose"),callPlayersLyF(a,d)):window.history.back()},error:function(a){showError(a.response)},complete:function(){$(".loading").hide(),ga("send","pageview","/equipo/seleccionar-jugadores/"+a+".html")}})}function callPlayersFilter(a){var b=[],c=$("div.header p span.count-container span.rol").attr("position");$.each(a,function(a,c){b.push($(c).children("a").attr("data-event"))}),callPlayers(c,b),$("span.text-title").empty().text(i18n.getTranslation("txt_players_selection"))}function createRanking(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=(a[6].userName,{success:function(a){var b=BuildMarkUp.dayNumberRankings(a);$(".day-number-list").append(b)},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}});dataservice.getDayNumbersRankingsBySeasonId(DEFAULT_SELECTED_SEASON_ID,b,c)}function initialFormation(){$("#main-content").show();var a=$.parseJSON(getCookie("players")),b=a[2];createListSelectPlayer(a),createListFormationLyF(b)}function showPlayersSelectionLyF(){$("#players").toggle(),$(".mi-team").show(),$(".btn-filters").show(),$(".btn-done, .btn-edit-team").toggle(),$("body").removeClass("show-msj"),$(".count-rol").toggle(),$("#subtitle").toggle()}function myTeamsWeek(a,b){var c;$(".loading").show(),$.ajax({type:"GET",url:API_URL+"/api/me/seats/q",data:{token:a,offset:0,limit:paginationResultPerPage+1,time:b},dataType:"json",success:function(c){hideMoreButton=c.seats.length<paginationResultPerPage+1,hideMoreButton||($("."+b).find(".paginator").show(),c.seats.pop(),$("."+b).paginator(a,{offset:paginationResultPerPage,time:b,paginationResultPerPage:paginationResultPerPage})),BuildMarkUp.loadMatch(c,b)},error:function(a){404!==a.status?"last_week"!==b?showError(a.response):""!==a.response?(c=$.parseJSON(a.response),$(".last-week-match .msj-error").text(c.errors.message)):$(".last-week-match .msj-error").text(i18n.getTranslation("msg_service_error")):$("."+b+" .teams-container").html('<li class="normal"><a class="match ic-arrow" href="#">'+i18n.getTranslation("txt_no_teams")+"</a></li>")},complete:function(){$(".loading").hide()}})}function statsWeek(a){$(".loading").show();var b,c;myTeamsWeek(a,"current_week"),myTeamsWeek(a,"last_week"),myTeamsWeek(a,"next_week"),$.ajax({type:"GET",url:API_URL+"/api/stats",data:{token:a},dataType:"json",success:function(a){b='<p class="week-date"><span></span></p>',c='<p class="week-date"><span>'+Utils.sprintf(i18n.getTranslation("txt_sum_points"),a.last_week_points)+"</span></p>",$(".current-week-match .stats").html(b),$(".last-week-match .stats").html(c),$(".next-week-match .stats").html(b)},error:function(a){404===a&&showError(a.response)},complete:function(){$(".loading").hide()}})}function saveTeam(a,b,c,d){var e=[];$.each(a,function(a,b){var c=b.split(":");e.push(c[1])}),ga("send","pageview","/guardar-equipo"),$(".loading").show(),$.ajax({type:"POST",data:{id_league:c,formation:b,players:e,token:d},url:API_URL+"/api/me/seats",dataType:"json",success:function(a){""!==a?void 0!==a.errors?showError(a.errors.message):(initialSetTeamCookie("","seleccion"),initialSetTeamCookie(d,"players"),location.href="/exito.html"):location.href="/error.html"},error:function(a){var b=$.parseJSON(a.response);1011===b.errors.code?location.href="/suscripcion.html#create-team":showError(a.response)},complete:function(){$(".loading").hide()}})}function editTeam(a,b,c,d,e){var f=[];$.each(a,function(a,b){var c=b.split(":");f.push(c[1])}),$(".loading").show(),ga("send","pageview","/actualizar-equipo/id_league/"+c+"/id_league_user/"+d),$.ajax({type:"POST",data:{id_league:c,id_league_user:d,formation:b,players:f,token:e},url:API_URL+"/api/me/seats/"+d,dataType:"json",success:function(a){""!==a?void 0!==a.errors?showError(a):(initialSetTeamCookie("","seleccion"),initialSetTeamCookie(e,"players"),location.href="/mis-equipos"):location.href="/error.html"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function verifySubscription(){$(".loading").show();var a=$.parseJSON(getCookie("players")),b=a[3].token,c=API_URL+"/api/me/subscriptions";$.ajax({type:"GET",data:{token:b},url:c,dataType:"json",success:function(a){a.subscribed===!0?(location.replace("#subscription-on"),location.reload()):(location.replace("#subscription-off"),location.reload())},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function sendLogin(a,b,c){$(".loading").show(),$.ajax({type:"POST",data:{ani:a,pin:b},url:"/login.php",dataType:"json",success:function(a){var b,d,e,f,g,h=a.token;""!==h?"saveTeam"===c?(b=$.parseJSON(getCookie("players")),d=b[1].miPlayers.split(",").clean(""),e=b[4].league,f=b[0].defender+"-"+b[0].midfielder+"-"+b[0].attacker,b[3].token=h,b=JSON.stringify(b),setCookie("players",b,1e3),saveTeam(d,f,e,h)):(g='[{"goalkeeper":"0","defender":"0","midfielder":"0","attacker":"0","manager":"0"}, {"miPlayers":""}, {"goalkeeper":1, "defender":4, "midfielder":3, "attacker":3, "manager":1}, {"token":"'+h+'"}, {"league":""}, {"season":""}, {"userName":""}]',setCookie("players",g,1e3),location.href="/home.html"):showError(a)},error:function(a){showError(a.response),$(".loading").hide()}})}function backButtonCel(){window.history&&window.history.pushState&&$(window).on("popstate",function(){var a,b=location.hash,c=b.split("#!/"),d=c[1];""!==d&&(a=window.location.hash,""===a&&(showLeagues(),document.location.hash=""))})}function setUser(a){var b=a[3].token;$.ajax({type:"GET",data:{token:b},url:API_URL+"/api/me",dataType:"json",success:function(b){a[6].userName=b.nick,a=JSON.stringify(a),setCookie("players",a,1e3),$("a.btn-play").css("display","block")},error:function(b){$(".btn-play").attr("href","/ligas.html"),$(".btn-play").addClass("btn-play-liga"),$(".btn-play").css("display","block"),$(".login").css("display","block"),a[3].token="",a=JSON.stringify(a),setCookie("players",a,1e3),showError(b.response)},complete:function(){$(".loading").hide()}})}function homeUserData(a){var b=$.parseJSON(getCookie("players"));b[6].userName=a.nick,b=JSON.stringify(b),setCookie("players",b,1e3),$("body.home div.current-week span.user-name").text(a.nick),$("body.home div.current-week p.teams-created span.teams-quantity").text(a.current_week_teams_created),$("body.home div.current-week p.teams-created span.team-text").text(i18n.getTranslation(1==a.current_week_teams_created?"msg_team_created":"msg_teams_created")),$("body.home div.last-week p.user-ranking span.user-rank").text(a.last_week_rank),$("body.home div.last-week p.user-ranking span.user-points").text(a.last_week_points),$("body.home div.last-week p.user-winner span.user-nick").text(a.last_week_winner),$("body.home div.last-week p.user-winner span.user-points").text(a.last_week_winner_points),a.subscribed===!1&&$(".banner").show()}function getUserStats(a){$.ajax({type:"GET",data:{token:a},url:API_URL+"/api/me/stats",dataType:"json",success:function(a){homeUserData(a)},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function addPrizeLyF(a){var b="";$.each(a,function(){b+='<li><img src="'+a.url+'" alt="premio "></li>'}),$("ul.awards-image").append(b)}function callPrizes(){var a=$.parseJSON(getCookie("players")),b=a[3].token;$.ajax({type:"GET",data:{token:b},url:API_URL+"/api/contents/prize",dataType:"json",success:function(a){""!==a?addPrizeLyF(a):location.href="/error.html"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function showTeam(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=document.location.hash.split("="),d=c[1];initialSetTeamCookie("","seleccion"),initialSetTeamCookie(b,"players"),$.ajax({url:API_URL+"/api/me/seats/"+d,timeout:9e4,data:{token:b},dataType:"json",success:function(a){a instanceof Array&&void 0!==a[0]&&$(".header-top").html("<p"+(a[0].is_winner?' class="winner">':">")+"<span>ID "+d+"</span>"+a[0].name+"<span>"+i18n.getTranslation("txt_total_points")+": "+a[0].points+"</span></p>")}}),$.ajax({url:API_URL+"/api/me/seats/"+d+"/players",timeout:9e4,data:{token:b},dataType:"json",success:function(b){createListTeamToEdit(b,a,"see-team")},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}function suscription(a){$("#suscribe").click(function(){$(".loading").show(),$.ajax({type:"POST",data:{token:a},url:API_URL+"/api/me/subscriptions/subscribe",dataType:"json",success:function(){"#create-team"===document.location.hash?(miTeamCookie=$.parseJSON(getCookie("players")),miPlayers=miTeamCookie[1].miPlayers.split(",").clean(""),id_league=miTeamCookie[4].league,formation=miTeamCookie[0].defender+"-"+miTeamCookie[0].midfielder+"-"+miTeamCookie[0].attacker,miTeamCookie[3].token=a,miTeamCookie=JSON.stringify(miTeamCookie),setCookie("players",miTeamCookie,1e3),saveTeam(miPlayers,formation,id_league,a)):location.href="/exito.html"+document.location.hash},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})})}function crearEquipoInit(){var a=$.parseJSON(getCookie("players")),b=a[4].league,c=a[5].season;if(b&&c){var a=$.parseJSON(getCookie("players"));a[4].league=b,a[5].season=c,a=JSON.stringify(a),setCookie("players",a,1e3),initialFormation();var d=i18n.getTranslation("lbl_round_"+getCookie("current_day_number"));$("#subtitle-round").text(d?d:"Fecha actual")}else{$(".loading").show();var a=$.parseJSON(getCookie("players"));initialSetTeamCookie("","seleccion"),initialSetTeamCookie(a[3].token,"players");var c="",e=!1;$.ajax({url:API_URL+"/api/tournaments",dataType:"json",success:function(a){$.each(a,function(a,b){return"undefined"!=typeof DEFAULT_SELECTED_SEASON_ID&&b.id_season==DEFAULT_SELECTED_SEASON_ID&&1==b.active_league?(c=b.id_season,e=!0,!1):void 0}),1==e?$.ajax({type:"GET",data:{season:c},url:API_URL+"/api/leagues/",dataType:"json",success:function(a){var b=$.parseJSON(getCookie("players"));b[4].league=a.id_league,b[5].season=c,b=JSON.stringify(b),setCookie("players",b,1e3),setCookie("current_day_number",a.current_day_number,1e3);var d=i18n.getTranslation("lbl_round_"+getCookie("current_day_number"));return $("#subtitle-round").text(d?d:"Fecha actual"),initialFormation(),!1},error:function(){location.href="/ligas.html"},complete:function(){$(".loading").hide()}}):location.href="/ligas.html"},error:function(){location.href="/ligas.html"}})}}if(!window.af||"function"!=typeof af){var af=function(a){function b(a,b,c){var d=u.createDocumentFragment();if(c){for(c=a.length-1;c>=0;c--)d.insertBefore(a[c],d.firstChild);b.insertBefore(d,b.firstChild)}else{for(c=0;c<a.length;c++)d.appendChild(a[c]);b.appendChild(d)}}function c(a){return a in x?x[a]:x[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function d(a){for(var b=0;b<a.length;b++)a.indexOf(a[b])!=b&&(a.splice(b,1),b--);return a}function e(a,b){var c=[];if(a==t)return c;for(;a;a=a.nextSibling)1==a.nodeType&&a!==b&&c.push(a);return c}function f(a,b){try{return b.querySelectorAll(a)}catch(c){return[]}}function g(a,b){if(a)if(a.nodeType)b[b.length++]=a;else for(var c=0,d=a.length;d>c;c++)b[b.length++]=a[c]}function h(){}function i(b,c){b.os={},b.os.webkit=c.match(/WebKit\/([\d.]+)/)?!0:!1,b.os.android=c.match(/(Android)\s+([\d.]+)/)||c.match(/Silk-Accelerated/)?!0:!1,b.os.androidICS=b.os.android&&c.match(/(Android)\s4/)?!0:!1,b.os.ipad=c.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,b.os.iphone=!b.os.ipad&&c.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,b.os.ios7=(b.os.ipad||b.os.iphone)&&c.match(/7_/)?!0:!1,b.os.webos=c.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,b.os.touchpad=b.os.webos&&c.match(/TouchPad/)?!0:!1,b.os.ios=b.os.ipad||b.os.iphone,b.os.playbook=c.match(/PlayBook/)?!0:!1,b.os.blackberry10=c.match(/BB10/)?!0:!1,b.os.blackberry=b.os.playbook||b.os.blackberry10||c.match(/BlackBerry/)?!0:!1,b.os.chrome=c.match(/Chrome/)?!0:!1,b.os.opera=c.match(/Opera/)?!0:!1,b.os.fennec=c.match(/fennec/i)?!0:c.match(/Firefox/)?!0:!1,b.os.ie=c.match(/MSIE 10.0/i)||c.match(/Trident\/7/i)?!0:!1,b.os.ieTouch=b.os.ie&&c.toLowerCase().match(/touch/i)?!0:!1,b.os.tizen=c.match(/Tizen/i)?!0:!1,b.os.supportsTouch=a.DocumentTouch&&u instanceof a.DocumentTouch||"ontouchstart"in a,b.feat={};var d=u.documentElement.getElementsByTagName("head")[0];b.feat.nativeTouchScroll="undefined"!=typeof d.style["-webkit-overflow-scrolling"]&&(b.os.ios||b.os.blackberry10),b.feat.cssPrefix=b.os.webkit?"Webkit":b.os.fennec?"Moz":b.os.ie?"ms":b.os.opera?"O":"",b.feat.cssTransformStart=b.os.opera?"(":"3d(",b.feat.cssTransformEnd=b.os.opera?")":",0)",b.os.android&&!b.os.webkit&&(b.os.android=!1);for(var d=["Webkit","Moz","ms","O"],e=0;e<d.length;e++)""===u.documentElement.style[d[e]+"Transform"]&&(b.feat.cssPrefix=d[e])}function j(a){return a._afmid||(a._afmid=H++)}function k(a,b,c,d){if(b=l(b),b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(G[j(a)]||[]).filter(function(a){return!(!a||b.e&&a.e!=b.e||b.ns&&!e.test(a.ns)||c&&a.fn!=c&&("function"!=typeof a.fn||"function"!=typeof c||a.fn!==c)||d&&a.sel!=d)})}function l(a){return a=(""+a).split("."),{e:a[0],ns:a.slice(1).sort().join(" ")}}function m(a,b,c){F.isObject(a)?F.each(a,c):a.split(/\s/).forEach(function(a){c(a,b)})}function n(a,b,c,d,e){var f=j(a),g=G[f]||(G[f]=[]);m(b,c,function(b,c){var f=e&&e(c,b),h=f||c,i=function(b){var c=h.apply(a,[b].concat(b.data));return!1===c&&b.preventDefault(),c},f=F.extend(l(b),{fn:c,proxy:i,sel:d,del:f,i:g.length});g.push(f),a.addEventListener(f.e,i,!1)})}function o(a,b,c,d){var e=j(a);m(b||"",c,function(b,c){k(a,b,c,d).forEach(function(b){delete G[e][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function p(a){var b=F.extend({originalEvent:a},a);return F.each(K,function(c,d){b[c]=function(){return this[d]=I,"stopImmediatePropagation"!=c&&"stopPropagation"!=c||(a.cancelBubble=!0,a[c])?a[c].apply(a,arguments):void 0},b[d]=J}),b}function q(a,b,c,d,e){n(a,b,c,d,function(b){return function(c){var f,g=F(c.target).closest(d,a).get(0);return g?(f=F.extend(p(c),{currentTarget:g,liveFired:a,delegateTarget:a,data:e}),b.apply(g,[f].concat([].slice.call(arguments,1)))):void 0}})}function r(a,b){if(b&&a.dispatchEvent){var c=F.Event("destroy",{bubbles:!1});a.dispatchEvent(c)}if((c=j(a))&&G[c]){for(var d in G[c])a.removeEventListener(G[c][d].e,G[c][d].proxy,!1);delete G[c]}}function s(a,b){if(a){var c=a.childNodes;if(c&&0<c.length)for(var d;d<c.length;d++)s(c[d],b);r(a,b)}}var t,u=a.document,v=[],w=v.slice,x={},y=1,z=/<(\w+)[^>]*>/,A={},B={},C={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},D="object"==typeof MSApp,E=function(a,b){if(this.length=0,!a)return this;if(a instanceof E&&b==t)return a;if(af.isFunction(a))return af(u).ready(a);if(af.isArray(a)&&a.length!=t){for(var c=0;c<a.length;c++)this[this.length++]=a[c];return this}if(af.isObject(a)&&af.isObject(b)){if(a.length==t)a.parentNode==b&&(this[this.length++]=a);else for(c=0;c<a.length;c++)a[c].parentNode==b&&(this[this.length++]=a[c]);return this}if(af.isObject(a)&&b==t)return this[this.length++]=a,this;if(b!==t){if(b instanceof E)return b.find(a)}else b=u;return this.selector(a,b)},F=function(a,b){return new E(a,b)};F.is$=function(a){return a instanceof E},F.map=function(a,b){var c,d,e=[];if(F.isArray(a))for(d=0;d<a.length;d++)c=b.apply(a[d],[d,a[d]]),c!==t&&e.push(c);else if(F.isObject(a))for(d in a)a.hasOwnProperty(d)&&"length"!=d&&(c=b(a[d],[d,a[d]]),c!==t&&e.push(c));return af(e)},F.each=function(a,b){var c;if(F.isArray(a))for(c=0;c<a.length&&!1!==b(c,a[c]);c++);else if(F.isObject(a))for(c in a)if(a.hasOwnProperty(c)&&"length"!=c&&!1===b(c,a[c]))break;return a},F.extend=function(a){if(a==t&&(a=this),1===arguments.length){for(var b in a)this[b]=a[b];return this}return w.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a},F.isArray=function(a){return a instanceof Array&&a.push!=t},F.isFunction=function(a){return"function"==typeof a&&!(a instanceof RegExp)},F.isObject=function(a){return"object"==typeof a&&null!==a},F.fn=E.prototype={namepsace:"appframework",constructor:E,forEach:v.forEach,reduce:v.reduce,push:v.push,indexOf:v.indexOf,concat:v.concat,selector:function(a,b){if(a=a.trim(),"#"===a[0]&&-1==a.indexOf(".")&&-1==a.indexOf(",")&&-1===a.indexOf(" ")&&-1===a.indexOf(">"))b==u?g(b.getElementById(a.replace("#","")),this):g(f(a,b),this);else if("<"===a[0]&&">"===a[a.length-1]||-1!==a.indexOf("<")&&-1!==a.indexOf(">")){var c=u.createElement("div");D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=a.trim()}):c.innerHTML=a.trim(),g(c.childNodes,this)}else g(f(a,b),this);return this},oldElement:void 0,slice:v.slice,length:0,setupOld:function(a){return a==t?F():(a.oldElement=this,a)},map:function(a){var b,c,d=[];for(c=0;c<this.length;c++)b=a.apply(this[c],[c,this[c]]),b!==t&&d.push(b);return F(d)},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},ready:function(a){return"complete"===u.readyState||"loaded"===u.readyState||!F.os.ie&&"interactive"===u.readyState?a():u.addEventListener("DOMContentLoaded",a,!1),this},find:function(a){if(0===this.length)return this;for(var b,c=[],e=0;e<this.length;e++){b=F(a,this[e]);for(var f=0;f<b.length;f++)c.push(b[f])}return F(d(c))},html:function(a,b){if(0===this.length)return this;if(a===t)return this[0].innerHTML;for(var c=0;c<this.length;c++)if(!1!==b&&F.cleanUpContent(this[c],!1,!0),D){var d=this[c];MSApp.execUnsafeLocalFunction(function(){d.innerHTML=a})}else this[c].innerHTML=a;return this},text:function(a){if(0===this.length)return this;if(a===t)return this[0].textContent;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},css:function(b,c,d){if(d=d!=t?d:this[0],0===this.length)return this;if(c==t&&"string"==typeof b)return a.getComputedStyle(d),d.style[b]?d.style[b]:a.getComputedStyle(d)[b];for(d=0;d<this.length;d++)if(F.isObject(b))for(var e in b)this[d].style[e]="number"!=typeof b[e]||C[e.toLowerCase()]?b[e]:b[e]+"px";else this[d].style[b]="number"!=typeof c||C[b.toLowerCase()]?c:c+"px";return this},vendorCss:function(a,b,c){return this.css(F.feat.cssPrefix+a,b,c)},cssTranslate:function(a){return this.vendorCss("Transform","translate"+F.feat.cssTransformStart+a+F.feat.cssTransformEnd)},computedStyle:function(b){return 0!==this.length&&b!=t?a.getComputedStyle(this[0],"")[b]:void 0},empty:function(){for(var a=0;a<this.length;a++)F.cleanUpContent(this[a],!1,!0),this[a].textContent="";return this},hide:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"!=this.css("display",null,this[a])&&(this[a].setAttribute("afmOldStyle",this.css("display",null,this[a])),this[a].style.display="none");return this},show:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"==this.css("display",null,this[a])&&(this[a].style.display=this[a].getAttribute("afmOldStyle")?this[a].getAttribute("afmOldStyle"):"block",this[a].removeAttribute("afmOldStyle"));return this},toggle:function(a){if(0===this.length)return this;
for(var b=!0===a,c=0;c<this.length;c++)"none"==this.css("display",null,this[c])||a!=t&&!1!==b?"none"!=this.css("display",null,this[c])||a!=t&&!0!==b||(this[c].style.display=this[c].getAttribute("afmOldStyle")?this[c].getAttribute("afmOldStyle"):"block",this[c].removeAttribute("afmOldStyle")):(this[c].setAttribute("afmOldStyle",this.css("display",null,this[c])),this[c].style.display="none");return this},val:function(a){if(0===this.length)return a===t?void 0:this;if(a==t)return this[0].value;for(var b=0;b<this.length;b++)this[b].value=a;return this},attr:function(a,b){if(0===this.length)return b===t?void 0:this;if(b===t&&!F.isObject(a))return this[0].afmCacheId&&A[this[0].afmCacheId][a]?this[0].afmCacheId&&A[this[0].afmCacheId][a]:this[0].getAttribute(a);for(var c=0;c<this.length;c++)if(F.isObject(a))for(var d in a)F(this[c]).attr(d,a[d]);else F.isArray(b)||F.isObject(b)||F.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=F.uuid()),A[this[c].afmCacheId]||(A[this[c].afmCacheId]={}),A[this[c].afmCacheId][a]=b):null===b?(this[c].removeAttribute(a),this[c].afmCacheId&&A[this[c].afmCacheId][a]&&delete A[this[c].afmCacheId][a]):this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c].removeAttribute(d),b[c].afmCacheId&&A[b[c].afmCacheId][a]&&delete A[b[c].afmCacheId][a]});return this},prop:function(a,b){if(0===this.length)return b===t?void 0:this;if(b===t&&!F.isObject(a)){var c;return this[0].afmCacheId&&B[this[0].afmCacheId][a]?this[0].afmCacheId&&B[this[0].afmCacheId][a]:!(c=this[0][a])&&a in this[0]?this[0][a]:c}for(c=0;c<this.length;c++)if(F.isObject(a))for(var d in a)F(this[c]).prop(d,a[d]);else F.isArray(b)||F.isObject(b)||F.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=F.uuid()),B[this[c].afmCacheId]||(B[this[c].afmCacheId]={}),B[this[c].afmCacheId][a]=b):null===b&&void 0!==b?F(this[c]).removeProp(a):this[c][a]=b;return this},removeProp:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c][d]&&(b[c][d]=void 0),b[c].afmCacheId&&B[b[c].afmCacheId][a]&&delete B[b[c].afmCacheId][a]});return this},remove:function(a){if(a=F(this).filter(a),a==t)return this;for(var b=0;b<a.length;b++)F.cleanUpContent(a[b],!0,!0),a[b]&&a[b].parentNode&&a[b].parentNode.removeChild(a[b]);return this},addClass:function(a){if(a==t)return this;for(var b=0;b<this.length;b++){var c=this[b].className,d=[],e=this;a.split(/\s+/g).forEach(function(a){e.hasClass(a,e[b])||d.push(a)}),this[b].className+=(c?" ":"")+d.join(" "),this[b].className=this[b].className.trim()}return this},removeClass:function(a){if(a==t)return this;for(var b=0;b<this.length;b++){if(a==t){this[b].className="";break}var d=this[b].className;"object"==typeof this[b].className&&(d=" "),a.split(/\s+/g).forEach(function(a){d=d.replace(c(a)," ")}),this[b].className=0<d.length?d.trim():""}return this},toggleClass:function(a,b){if(a==t)return this;for(var c=0;c<this.length;c++)"boolean"!=typeof b&&(b=this.hasClass(a,this[c])),F(this[c])[b?"removeClass":"addClass"](a);return this},replaceClass:function(a,b){if(a==t||b==t)return this;for(var d=0;d<this.length;d++)if(a==t)this[d].className=b;else{var e=this[d].className;a.split(/\s+/g).concat(b.split(/\s+/g)).forEach(function(a){e=e.replace(c(a)," ")}),e=e.trim(),this[d].className=0<e.length?(e+" "+b).trim():b}return this},hasClass:function(a,b){return 0===this.length?!1:(b||(b=this[0]),c(a).test(b.className))},append:function(c,d){if(c&&c.length!=t&&0===c.length)return this;(F.isArray(c)||F.isObject(c))&&(c=F(c));var e,f;for(e=0;e<this.length;e++)if(c.length&&"string"!=typeof c)c=F(c),b(c,this[e],d);else{var g=z.test(c)?F(c):void 0;if((g==t||0===g.length)&&(g=u.createTextNode(c)),g instanceof E)for(var h=0,i=g.length;i>h;h++)f=g[h],f.nodeName==t||"script"!=f.nodeName.toLowerCase()||f.type&&"text/javascript"!==f.type.toLowerCase()?b(F(f),this[e],d):a.eval(f.innerHTML);else d!=t?this[e].insertBefore(g,this[e].firstChild):this[e].appendChild(g)}return this},appendTo:function(a){return F(a).append(this),this},prependTo:function(a){return F(a).append(this,!0),this},prepend:function(a){return this.append(a,1)},insertBefore:function(a,b){if(0===this.length)return this;if(a=F(a).get(0),!a)return this;for(var c=0;c<this.length;c++)b?a.parentNode.insertBefore(this[c],a.nextSibling):a.parentNode.insertBefore(this[c],a);return this},insertAfter:function(a){this.insertBefore(a,!0)},get:function(a){return a=a==t?0:a,0>a&&(a+=this.length),this[a]?this[a]:void 0},offset:function(){var b;return 0===this.length?this:this[0]==a?{left:0,top:0,right:0,bottom:0,width:a.innerWidth,height:a.innerHeight}:(b=this[0].getBoundingClientRect(),{left:b.left+a.pageXOffset,top:b.top+a.pageYOffset,right:b.right+a.pageXOffset,bottom:b.bottom+a.pageYOffset,width:b.right-b.left,height:b.bottom-b.top})},height:function(b){return 0===this.length?this:b!=t?this.css("height",b):this[0]==this[0].window?a.innerHeight:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetHeight:(b=this.css("height").replace("px",""))?+b:this.offset().height},width:function(b){return 0===this.length?this:b!=t?this.css("width",b):this[0]==this[0].window?a.innerWidth:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetWidth:(b=this.css("width").replace("px",""))?+b:this.offset().width},parent:function(a,b){if(0===this.length)return this;for(var c=[],e=0;e<this.length;e++)for(var f=this[e];f.parentNode&&f.parentNode!=u&&(c.push(f.parentNode),f.parentNode&&(f=f.parentNode),!!b););return this.setupOld(F(d(c)).filter(a))},parents:function(a){return this.parent(a,!0)},children:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b=b.concat(e(this[c].firstChild));return this.setupOld(F(b).filter(a))},siblings:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&(b=b.concat(e(this[c].parentNode.firstChild,this[c])));return this.setupOld(F(b).filter(a))},contents:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&g(this[c].childNodes,b);return this.setupOld(F(b).filter(a))},closest:function(a,b){if(0===this.length)return this;var c=this[0],d=F(a,b);if(0===d.length)return F();for(;c&&-1==d.indexOf(c);)c=c!==b&&c!==u&&c.parentNode;return F(c)},filter:function(a){if(0===this.length||a==t)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&0<=F(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(F(d(b)))},not:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&-1==F(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(F(d(b)))},data:function(a,b){var c;if(b)return this.attr("data-"+a,b);c=this.attr("data-"+a);try{c=F.parseJSON(c)}catch(d){}return c},end:function(){return this.oldElement!=t?this.oldElement:F()},clone:function(a){if(a=!1===a?!1:!0,0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b.push(this[c].cloneNode(a));return F(b)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var a=[],b=0;b<this.length;b++)this.slice.call(this[b].elements).forEach(function(b){var c=b.getAttribute("type");if("fieldset"!=b.nodeName.toLowerCase()&&!b.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&("radio"!=c&&"checkbox"!=c||b.checked)&&b.getAttribute("name"))if("select-multiple"==b.type)for(c=0;c<b.options.length;c++)b.options[c].selected&&a.push(b.getAttribute("name")+"="+encodeURIComponent(b.options[c].value));else a.push(b.getAttribute("name")+"="+encodeURIComponent(b.value))});return a.join("&")},eq:function(a){return F(this.get(a))},index:function(a){return a?this.indexOf(F(a)[0]):this.parent().children().indexOf(this[0])},is:function(a){return!!a&&0<this.filter(a).length}},F.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:void 0,timeout:0,crossDomain:null},F.jsonP=function(b){if(D)return b.type="get",b.dataType=null,F.get(b);var c,d="jsonp_callback"+ ++y,e="",f=u.createElement("script");return a[d]=function(c){clearTimeout(e),F(f).remove(),delete a[d],b.success.call(void 0,c)},-1!==b.url.indexOf("callback=?")?f.src=b.url.replace(/=\?/,"="+d):(c=b.jsonp?b.jsonp:"callback",b.url+=-1===b.url.indexOf("?")?"?"+c+"="+d:"&"+c+"="+d,f.src=b.url),b.error&&(f.onerror=function(){clearTimeout(e),b.error.call(void 0,"","error")}),F("head").append(f),0<b.timeout&&(e=setTimeout(function(){b.error.call(void 0,"","timeout")},b.timeout)),{}},F.ajax=function(b){var c;try{var d,e=b||{};for(d in F.ajaxSettings)"undefined"==typeof e[d]&&(e[d]=F.ajaxSettings[d]);if(e.url||(e.url=a.location),e.contentType||(e.contentType="application/x-www-form-urlencoded"),e.headers||(e.headers={}),"async"in e&&!1===e.async||(e.async=!0),F.isObject(e.data)&&(e.data=F.param(e.data)),"get"===e.type.toLowerCase()&&e.data&&(e.url+=-1===e.url.indexOf("?")?"?"+e.data:"&"+e.data),e.dataType)switch(e.dataType){case"script":e.dataType="text/javascript, application/javascript";break;case"json":e.dataType="application/json";break;case"xml":e.dataType="application/xml, text/xml";break;case"html":e.dataType="text/html";break;case"text":e.dataType="text/plain";break;case"jsonp":return F.jsonP(e);default:e.dataType="text/html"}else e.dataType="text/html";if(/=\?/.test(e.url))return F.jsonP(e);null===e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=a.location.host),e.crossDomain||(e.headers=F.extend({"X-Requested-With":"XMLHttpRequest"},e.headers));var f,g=e.context,i=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:a.location.protocol;c=new a.XMLHttpRequest,c.onreadystatechange=function(){var a=e.dataType;if(4===c.readyState){clearTimeout(f);var b,d=!1;if(200<=c.status&&300>c.status||0===c.status&&"file:"==i){if("application/json"!==a||/^\s*$/.test(c.responseText))"application/xml, text/xml"===a?b=c.responseXML:"text/html"==a?(b=c.responseText,F.parseJS(b)):b=c.responseText;else try{b=JSON.parse(c.responseText)}catch(h){d=h}0===c.status&&0===b.length&&(d=!0),d?e.error.call(g,c,"parsererror",d):e.success.call(g,b,"success",c)}else d=!0,e.error.call(g,c,"error");e.complete.call(g,c,d?"error":"success")}},c.open(e.type,e.url,e.async),e.withCredentials&&(c.withCredentials=!0),e.contentType&&(e.headers["Content-Type"]=e.contentType);for(var j in e.headers)"string"==typeof e.headers[j]&&c.setRequestHeader(j,e.headers[j]);if(!1===e.beforeSend.call(g,c,e))return c.abort(),!1;0<e.timeout&&(f=setTimeout(function(){c.onreadystatechange=h,c.abort(),e.error.call(g,c,"timeout")},e.timeout)),c.send(e.data)}catch(k){console.log(k),e.error.call(g,c,"error",k)}return c},F.get=function(a,b){return this.ajax({url:a,success:b})},F.post=function(a,b,c,d){return"function"==typeof b&&(c=b,b={}),d===t&&(d="html"),this.ajax({url:a,type:"POST",data:b,dataType:d,success:c})},F.getJSON=function(a,b,c){return"function"==typeof b&&(c=b,b={}),this.ajax({url:a,data:b,success:c,dataType:"json"})},F.param=function(a,b){var c=[];if(a instanceof E)a.each(function(){c.push((b?b+"["+this.id+"]":this.id)+"="+encodeURIComponent(this.value))});else for(var d in a)if(!F.isFunction(a[d])){var e=b?b+"["+d+"]":d,f=a[d];c.push(F.isObject(f)?F.param(f,e):e+"="+encodeURIComponent(f))}return c.join("&")},F.parseJSON=function(a){return JSON.parse(a)},F.parseXML=function(a){return D?void MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(a,"text/xml")}):(new DOMParser).parseFromString(a,"text/xml")},i(F,navigator.userAgent),F.__detectUA=i,F.uuid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},F.getCssMatrix=function(b){F.is$(b)&&(b=b.get(0));var c=a.WebKitCSSMatrix||a.MSCSSMatrix;return b===t?c?new c:{a:0,b:0,c:0,d:0,e:0,f:0}:(b=a.getComputedStyle(b),b=b.webkitTransform||b.transform||b[F.feat.cssPrefix+"Transform"],c?new c(b):b?(c=b.replace(/[^0-9\-.,]/g,"").split(","),{a:+c[0],b:+c[1],c:+c[2],d:+c[3],e:+c[4],f:+c[5]}):{a:0,b:0,c:0,d:0,e:0,f:0})},F.create=function(a,b){var c,d=new E;if(b||"<"!==a[0]){b.html&&(b.innerHTML=b.html,delete b.html),c=u.createElement(a);for(var e in b)c[e]=b[e];d[d.length++]=c}else c=u.createElement("div"),D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=selector.trim()}):c.innerHTML=a,g(c.childNodes,d);return d},F.query=function(a,b){return a?(b=b||u,(new E).selector(a,b)):new E};var G={},H=1;F.event={add:n,remove:o},F.fn.bind=function(a,b){for(var c=0,d=this.length;d>c;c++)n(this[c],a,b);return this},F.fn.unbind=function(a,b){for(var c=0,d=this.length;d>c;c++)o(this[c],a,b);return this},F.fn.one=function(a,b){return this.each(function(c,d){n(this,a,b,null,function(a,b){return function(){return o(d,b,a),a.apply(d,arguments)}})})};var I=function(){return!0},J=function(){return!1},K={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};F.fn.delegate=function(a,b,c,d){F.isFunction(c)&&(d=c,c=null);for(var e=0,f=this.length;f>e;e++)q(this[e],b,d,a,c);return this},F.fn.undelegate=function(a,b,c){for(var d=0,e=this.length;e>d;d++)o(this[d],b,c,a);return this},F.fn.on=function(a,b,c,d){return F.isFunction(c)&&(d=c,c=null),b===t||F.isFunction(b)?this.bind(a,b):this.delegate(b,a,c,d)},F.fn.off=function(a,b,c){return b===t||F.isFunction(b)?this.unbind(a,b):this.undelegate(b,a,c)},F.fn.trigger=function(a,b,c){for("string"==typeof a&&(a=F.Event(a,c)),a.data=b,b=0,c=this.length;c>b;b++)this[b].dispatchEvent(a);return this},F.Event=function(a,b){var c=u.createEvent("Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c},F.bind=function(a,b,c){if(a){a.__events||(a.__events={}),F.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)a.__events[b[d]]||(a.__events[b[d]]=[]),a.__events[b[d]].push(c)}},F.trigger=function(a,b,c){if(a){var d=!0;if(!a.__events)return d;F.isArray(b)||(b=[b]),F.isArray(c)||(c=[]);for(var e=0;e<b.length;e++)if(a.__events[b[e]])for(var f=a.__events[b[e]].slice(0),g=0;g<f.length;g++)F.isFunction(f[g])&&!1===f[g].apply(a,c)&&(d=!1);return d}},F.unbind=function(a,b,c){if(a.__events){F.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)if(a.__events[b[d]])for(var e=a.__events[b[d]],f=0;f<e.length;f++)if(c==t&&delete e[f],e[f]==c){e.splice(f,1);break}}},F.proxy=function(a,b,c){return function(){return c?a.apply(b,c):a.apply(b,arguments)}};var L=function(a,b){for(var c=0;c<a.length;c++)s(a[c],b)};F.cleanUpContent=function(a,b,c){if(a){var d=a.childNodes;d&&0<d.length&&F.asap(L,{},[w.apply(d,[0]),c]),b&&r(a,c)}};var M=[],N=[],O=[];F.asap=function(b,c,d){if(!F.isFunction(b))throw"$.asap - argument is not a valid function";M.push(b),N.push(c?c:{}),O.push(d?d:[]),a.postMessage("afm-asap","*")},a.addEventListener("message",function(b){b.source==a&&"afm-asap"==b.data&&(b.stopPropagation(),0<M.length&&M.shift().apply(N.shift(),O.shift()))},!0);var P={};return F.parseJS=function(b){if(b){if("string"==typeof b){var c=u.createElement("div");D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=b}):c.innerHTML=b,b=c}var d=b.getElementsByTagName("script");b=null;for(var e=0;e<d.length;e++)if(0<d[e].src.length&&!P[d[e].src]&&!D){var f=u.createElement("script");f.type=d[e].type,f.src=d[e].src,u.getElementsByTagName("head")[0].appendChild(f),P[d[e].src]=1,f=null}else a.eval(d[e].innerHTML)}},"click keydown keyup keypress submit load resize change select error".split(" ").forEach(function(a){F.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)}}),["focus","blur"].forEach(function(a){F.fn[a]=function(b){if(0!==this.length){if(b)this.bind(a,b);else for(b=0;b<this.length;b++)try{this[b][a]()}catch(c){}return this}}}),F}(window);window.jq=af,"$"in window||(window.$=af),"function"==typeof define&&define.amd?define("appframework",[],function(){return af}):"undefined"!=typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(a){if(void 0===a||""===a)return 0;if(isNaN(parseFloat(a))){if(!a.replace)return 0;a=a.replace(/[^0-9.-]/g,"")}return parseFloat(a)})}window.onload=function(){console.log("page loaded.")};var CLIENT_LANGUAGE="",CLIENT_LABEL="",CLIENT_HOME_LINK_LABEL="",maxPlayerAllowGeneral=2,paginationResultPerPage=10;Array.prototype.clean=function(a){var b,c;for(b=0,c=this.length;c>b;b++)this[b]===a&&(this.splice(b,1),b--);return this};var createDayNumberHeader=function(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=document.location.hash.split("="),d=c[1];$.ajax({url:API_URL+"/api/me/seats/"+d,timeout:9e4,data:{token:b},dataType:"json",success:function(a){if(a&&a[0]&&a[0].day_number){var b=i18n.getTranslation("lbl_round_"+a[0].day_number);$("#subtitle-round").text(b?b:"Fecha actual")}}})},callbacksUserTeamByEvent=function(){var a=$(".loading");return{success:function(a){paginationResultPerPage+1>a.length?$(".my-teams-by-event .paginator").hide():($(".my-teams-by-event .paginator").show(),a.pop());var b=BuildMarkUp.teamsByEvent(a);$(".teamsByEvent").append(b)},error:function(a){404!==a.status&&"last_week"!==options.time&&showError(a.response),$(".my-teams-by-event .paginator").hide()},complete:function(){a.hide()}}},applyBindings=function(){var a=0,b=$("[data-selected-seasonid]"),c=$("[data-selected-daynumber]"),d=$("[data-selected-offset]"),e=$("[data-selected-phase]"),f=$("[data-selected-round]");$(".events").on("click",".event-enabled",function(g){g.preventDefault(),$(".teamsByEvent").empty(),$(".my-teams-by-event").show(),a=0,e.attr("data-selected-phase",$(this).attr("data-phase")),f.attr("data-selected-round",$(this).attr("data-round"));var h={phase:e.attr("data-selected-phase"),round:f.attr("data-selected-round")},i=BuildMarkUp.teamsByEventHeader(h);$(".teamsByEventHeader").empty().append(i),fetchMyTeamEventsCreated($(this).attr("data-day-number"),DEFAULT_SELECTED_SEASON_ID,callbacksUserTeamByEvent(),0),b.attr("data-selected-seasonid",DEFAULT_SELECTED_SEASON_ID),c.attr("data-selected-daynumber",$(this).attr("data-day-number")),d.attr("data-selected-offset",0)}),$(".my-teams-by-event").on("click",".paginator",function(){return function(d){d.preventDefault();var g={phase:e.attr("data-selected-phase"),round:f.attr("data-selected-round")},h=BuildMarkUp.teamsByEventHeader(g);$(".teamsByEventHeader").empty().append(h),a+=paginationResultPerPage,fetchMyTeamEventsCreated(c.attr("data-selected-daynumber"),b.attr("data-selected-seasonid"),callbacksUserTeamByEvent(),a,!0)}}()),$(".day-number-list").on("click",".day-number-item",function(a){$(this).toggleClass("selected-day"),a.stopPropagation(),$(this).find(".day-number-ranking").toggle()}),$(".menu .build-team").click(function(){initialSetTeamCookie("","seleccion"),initialSetTeamCookie(token,"players")})},fetchMyTeamEventsCreated=function(a,b,c,d,e){$(".loading");$(".events").hide(),dataservice.getMyTeamsByEvent(a,b,c,d),e||(location.hash="teams")},loadMyTeamEventsCreated=function(a){var b=$(".loading");b.show();var c={success:function(a){var b=BuildMarkUp.teamEvents(a);$(".events").append(b)},error:function(){$(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)},complete:function(){b.hide()}};dataservice.getMyTeamEventsCreated(a,null,c)};document.addEventListener("DOMContentLoaded",function(){i18n.translate($("body")),includeHeader(),urlTreatment(),applyBindings()}),$(document).on("click","ul.players-list-edit li a.ic-choose",function(a){if(a.preventDefault(),$(this).hasClass("fulled"))$(this).parent("li").toggleClass("active");else{$(".loading").show(),$(this).parent("li").toggleClass("active");var b=document.location.hash.split("="),c=b[1];getPlayerPoints($(this),c)}}),$(document).on("click","ul.list li:not(.disable).league a",function(a){a.preventDefault(),$("body").addClass("active-league"),$("ul.list li a.active").removeClass("active"),$(this).addClass("active"),$(".loading").show(),showDetailsLeague($(this).attr("data-idSeason"),$(this).attr("data-time-on"))}),$(document).on("click","ul.weeks li a.show-week",function(){$(".weeks li.selected").removeClass("selected"),$(this).parent("li").toggleClass("selected"),$("div.last-week-match").hide(),$(this).hasClass("show-last-week")&&$("div.last-week-match").show(),$("div.current-week-match").hide(),$(this).hasClass("show-current-week")&&$("div.current-week-match").show(),$("div.next-week-match").hide(),$(this).hasClass("show-next-week")&&$("div.next-week-match").show()}),$(document).on("click",".btn-filters",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));callMatches(b[5].season),$("body").addClass("filtros"),$(".msj-filtro").hide()}),$(document).on("click","#filters .filter-list li a",function(a){a.preventDefault(),$(this).parent("li").toggleClass($(this).parent("li").hasClass("minus")?"plus minus":"minus plus")}),$(document).on("click","a.apply-filter",function(a){a.preventDefault(),$("ul.filter-list li.minus").length>0?callPlayersFilter($("ul.filter-list li.minus")):$(".msj-filtro").show()}),$(document).on("click",".btn-done",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=parseInt(b[0].goalkeeper,10)+parseInt(b[0].defender,10)+parseInt(b[0].midfielder,10)+parseInt(b[0].attacker,10)+parseInt(b[0].manager,10),d=b[1].miPlayers.split(",").clean(""),e=b[3].token,f=b[4].league,g=$("ul.formations li.selected a").text();12===c&&""!==e?saveTeam(d,g,f,e):12!==c?($(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)):location.href="/perfil.html#login"}),$(document).on("click",".formations li a",function(a){a.preventDefault();var b,c=$(this).attr("data-id"),d=$(".mi-team li"),e=$.parseJSON(getCookie("players"));switch($(".formations li.selected").removeClass("selected"),$(this).parent("li").toggleClass("selected"),$(".mi-team li.hide").removeClass("hide"),c){case"1":$.each(d,function(a,b){(5===a||9===a||13===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=4,e[2].midfielder=3,e[2].attacker=3;break;case"2":$.each(d,function(a,b){(5===a||12===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=4,e[2].midfielder=4,e[2].attacker=2;break;case"3":$.each(d,function(a,b){(4===a||5===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=3,e[2].midfielder=4,e[2].attacker=3;break;case"4":$.each(d,function(a,b){(9===a||12===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=5,e[2].midfielder=3,e[2].attacker=2}e=JSON.stringify(e),setCookie("players",e,1e3),b=$.parseJSON(getCookie("players")),createListSelectPlayer(b)}),$(document).on("click",".mi-team li a.ic-choose",function(a){a.preventDefault();var b,c,d=$(this).attr("data-pos");$(this).hasClass("minus")?($(this).removeClass("minus").addClass("plus"),$(this).addClass("plus"),removePlayer($(this),"players"),c=$.parseJSON(getCookie("players")),createListSelectPlayer(c)):(b="",$(".mi-team li a").removeClass("ic-choose"),$("body").addClass("bk-create-team"),callPlayers(d,b))}),$(document).on("click",".to-select li a.ic-choose",function(a){a.preventDefault(),$(this).hasClass("plus")?addPlayer($(this)):$(this).hasClass("minus")&&($(this).removeClass("minus"),$(this).addClass("plus"),removePlayer($(this),"seleccion"))}),$(document).on("click",".btn-back-team",function(a){a.preventDefault(),setCookie("players",getCookie("seleccion"),1e3);var b=$.parseJSON(getCookie("players"));window.scrollTo(0,0),createListSelectPlayer(b),showPlayersSelectionLyF(),$("span.text-title").empty().text($("body").hasClass("editar-team")?i18n.getTranslation("txt_edit_team"):i18n.getTranslation("txt_create_team")),$("body").removeClass("bk-create-team"),window.history.back()}),$(document).on("click","a.btn-team-edit",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));b[4].league=$(this).attr("data-idLeague"),b[5].season=$(this).attr("data-idSeason"),b=JSON.stringify(b),setCookie("players",b,1e3),location.href="/editar-equipo.html#edit="+$(this).attr("data-id-league-user")}),$(document).on("click","a.btn-edit-team",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=parseInt(b[0].goalkeeper,10)+parseInt(b[0].defender,10)+parseInt(b[0].midfielder,10)+parseInt(b[0].attacker,10)+parseInt(b[0].manager,10),d=b[1].miPlayers.split(",").clean(""),e=b[3].token,f=(b[4].league,$("ul.formations li.selected a").text()),g=document.location.hash.split("="),h=g[1];12===c&&""!==e?editTeam(d,f,b[4].league,h,e):12!==c?($(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)):location.href="/perfil.html#login"}),$(document).on("click","a.btn-confirm-league",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));b[4].league=$(".container-details ul.list li.league").attr("data-idLeague"),b[5].season=$(".container-details ul.list li.league").attr("data-idSeason"),b=JSON.stringify(b),setCookie("players",b,1e3),location.href="/crear-equipo.html"}),$(document).on("click","body.subscription-page a.btn-edit-user",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=$(this).siblings("input.input-sub-on").val(),d=b[3].token;""!==c?($(".loading").show(),$.ajax({type:"POST",url:API_URL+"/api/me/",data:{token:d,nick:c},dataType:"json",success:function(){},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})):showError(i18n.getTranslation("txt_name_field_incomplete"))}),$(document).on("click","a.login-user",function(a){a.preventDefault();var b,c=$(".cel-number").val().toString(),d=$(".cel-number-prefix").val().toString(),e=$(".personal-pass").val(),f=i18n.getTranslation("txt_error_entrada_telefono"),g=$.parseJSON(getCookie("players")),h="";null!==getCookie("players")&&(b=g[1].miPlayers.split(",").clean(""),b.length>0&&(h="saveTeam")),celNumber=d+c,/^([0-9])*$/.test(celNumber)&&0!==d.length&&0!==c.length&&0!==e.length?sendLogin(celNumber,e,h):($("#login .msj-error").text(f).show(),setTimeout(function(){$("#login .msj-error").hide()},3e3))}),$(document).on("click","a.send-pass-sms",function(a){a.preventDefault(),location.hash="send-pwd-sms",location.reload()}),$(document).on("click","a.send-sms",function(a){a.preventDefault();var b=$("input.input-sms").val().toString(),c=$("input.input-sms-prefix").val().toString(),d=$(this).siblings(".msj-error");d.hide(),$("input.input-sms");var e=new RegExp(PIN_VALIDATION_REGEX,"g"),f=c+b;b.length&&c.length&&e.test(f)?$.ajax({type:"POST",url:API_URL+"/api/me/pin/reset/",data:{ani:f},dataType:"json",success:function(){$(".loading").hide(),location.hash="login",location.reload()},error:function(a){$(".loading").hide(),showError(a.response)},complete:function(){$(".loading").hide()}}):(d.text(i18n.getTranslation("msg_invalid_phone_number")).show(),setTimeout(function(){d.hide()},3e3))}),$(document).on("click","a.btn-back",function(){window.history.back()}),$(document).on("click","a.activate-subscription",function(a){a.preventDefault(),ga("send","pageview","/perfil.html#btn-activar-subscripcion"),$(".loading").show();var b=$.parseJSON(getCookie("players")),c=b[3].token;$.ajax({type:"POST",data:{token:c},url:API_URL+"/api/me/subscriptions/subscribe",dataType:"json",success:function(){location.href="/exito.html#suscribe"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}),$(document).on("click","a.deactivate-subscription",function(a){a.preventDefault(),ga("send","pageview","/perfil.html#btn-desactivar-subscripcion"),$(".loading").show();var b=$.parseJSON(getCookie("players")),c=b[3].token;$.ajax({type:"POST",data:{token:c},url:API_URL+"/api/me/subscriptions/unsubscribe",dataType:"json",success:function(){location.hash="subscription-off",location.reload()},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}),window.onhashchange=function(){$("body").hasClass("bk-create-team")&&"#seleccion"!==location.hash&&"#filter"!==location.hash&&($("body").removeClass("bk-create-team"),createListSelectPlayer($.parseJSON(getCookie("players"))),showPlayersSelectionLyF(),$("span.text-title").empty().text($("body").hasClass("editar-team")?i18n.getTranslation("txt_edit_team"):i18n.getTranslation("txt_create_team"))),$("body").hasClass("filtros")&&"#filter"!==location.hash&&($("#players").show(),$("p.count-rol").show(),$("#filters").hide(),$("body").removeClass("filtros").addClass("bk-create-team"),$("body").toggleClass("show-msj filter-msj"),$("body").removeClass("filtros filter-msj").addClass("bk-create-team show-msj"),$("span.text-title").empty().text(i18n.getTranslation("txt_select_players"))),"/mis-equipos.html"===document.location.pathname&&"#teams"!=document.location.hash&&($(".my-teams-by-event").hide(),$(".events").show()),$("body").hasClass("profile")&&"#login"===location.hash&&location.reload()},$(document).on("click",".history-back",function(a){if(a.preventDefault(),($("body").hasClass("subscription-perfil")||$("body").hasClass("home"))&&$(this).text()!==i18n.getTranslation("txt_volver"))$("#subscription").hasClass("active")&&window.history.back();else if($("body").hasClass("league"))if($("body.league").hasClass("active-league"))$("body.active-league").removeClass("active-league"),location.reload();else{var b=$.parseJSON(getCookie("players")),c=b[3].token||"";location.href=""===c?"/index.html":"/home.html"}else window.history.back()}),$(document).on("click",".banner",function(a){a.preventDefault(),ga("send","pageview","/suscripcion.html"),location.href="suscripcion.html#suscribe"});var maxPlayerAllowGeneral=2,paginationResultPerPage=10;Array.prototype.clean=function(a){var b,c;for(b=0,c=this.length;c>b;b++)this[b]===a&&(this.splice(b,1),b--);return this};var createDayNumberHeader=function(){var a=$.parseJSON(getCookie("players")),b=a[3].token,c=document.location.hash.split("="),d=c[1];$.ajax({url:API_URL+"/api/me/seats/"+d,timeout:9e4,data:{token:b},dataType:"json",success:function(a){if(a&&a[0]&&a[0].day_number){var b=i18n.getTranslation("lbl_round_"+a[0].day_number);$("#subtitle-round").text(b?b:"Fecha actual")}}})},callbacksUserTeamByEvent=function(){var a=$(".loading");return{success:function(a){paginationResultPerPage+1>a.length?$(".my-teams-by-event .paginator").hide():($(".my-teams-by-event .paginator").show(),a.pop());var b=BuildMarkUp.teamsByEvent(a);$(".teamsByEvent").append(b)},error:function(a){404!==a.status&&"last_week"!==options.time&&showError(a.response),$(".my-teams-by-event .paginator").hide()},complete:function(){a.hide()}}},applyBindings=function(){var a=0,b=$("[data-selected-seasonid]"),c=$("[data-selected-daynumber]"),d=$("[data-selected-offset]"),e=$("[data-selected-phase]"),f=$("[data-selected-round]");$(".events").on("click",".event-enabled",function(g){g.preventDefault(),$(".teamsByEvent").empty(),$(".my-teams-by-event").show(),a=0,e.attr("data-selected-phase",$(this).attr("data-phase")),f.attr("data-selected-round",$(this).attr("data-round"));var h={phase:e.attr("data-selected-phase"),round:f.attr("data-selected-round")},i=BuildMarkUp.teamsByEventHeader(h);$(".teamsByEventHeader").empty().append(i),fetchMyTeamEventsCreated($(this).attr("data-day-number"),DEFAULT_SELECTED_SEASON_ID,callbacksUserTeamByEvent(),0),b.attr("data-selected-seasonid",DEFAULT_SELECTED_SEASON_ID),c.attr("data-selected-daynumber",$(this).attr("data-day-number")),d.attr("data-selected-offset",0)}),$(".my-teams-by-event").on("click",".paginator",function(){return function(d){d.preventDefault();var g={phase:e.attr("data-selected-phase"),round:f.attr("data-selected-round")},h=BuildMarkUp.teamsByEventHeader(g);$(".teamsByEventHeader").empty().append(h),a+=paginationResultPerPage,fetchMyTeamEventsCreated(c.attr("data-selected-daynumber"),b.attr("data-selected-seasonid"),callbacksUserTeamByEvent(),a,!0)}}()),$(".day-number-list").on("click",".day-number-item",function(a){$(this).toggleClass("selected-day"),a.stopPropagation(),$(this).find(".day-number-ranking").toggle()}),$(".menu .build-team").click(function(){initialSetTeamCookie("","seleccion"),initialSetTeamCookie(token,"players")
})},fetchMyTeamEventsCreated=function(a,b,c,d,e){$(".loading");$(".events").hide(),dataservice.getMyTeamsByEvent(a,b,c,d),e||(location.hash="teams")},loadMyTeamEventsCreated=function(a){var b=$(".loading");b.show();var c={success:function(a){var b=BuildMarkUp.teamEvents(a);$(".events").append(b)},error:function(){$(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)},complete:function(){b.hide()}};dataservice.getMyTeamEventsCreated(a,null,c)};document.addEventListener("DOMContentLoaded",function(){i18n.translate($("body")),includeHeader(),urlTreatment(),applyBindings()}),$(document).on("click","ul.players-list-edit li a.ic-choose",function(a){if(a.preventDefault(),$(this).hasClass("fulled"))$(this).parent("li").toggleClass("active");else{$(".loading").show(),$(this).parent("li").toggleClass("active");var b=document.location.hash.split("="),c=b[1];getPlayerPoints($(this),c)}}),$(document).on("click","ul.list li:not(.disable).league a",function(a){a.preventDefault(),$("body").addClass("active-league"),$("ul.list li a.active").removeClass("active"),$(this).addClass("active"),$(".loading").show(),showDetailsLeague($(this).attr("data-idSeason"),$(this).attr("data-time-on"))}),$(document).on("click","ul.weeks li a.show-week",function(){$(".weeks li.selected").removeClass("selected"),$(this).parent("li").toggleClass("selected"),$("div.last-week-match").hide(),$(this).hasClass("show-last-week")&&$("div.last-week-match").show(),$("div.current-week-match").hide(),$(this).hasClass("show-current-week")&&$("div.current-week-match").show(),$("div.next-week-match").hide(),$(this).hasClass("show-next-week")&&$("div.next-week-match").show()}),$(document).on("click",".btn-filters",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));callMatches(b[5].season),$("body").addClass("filtros"),$(".msj-filtro").hide()}),$(document).on("click","#filters .filter-list li a",function(a){a.preventDefault(),$(this).parent("li").toggleClass($(this).parent("li").hasClass("minus")?"plus minus":"minus plus")}),$(document).on("click","a.apply-filter",function(a){a.preventDefault(),$("ul.filter-list li.minus").length>0?callPlayersFilter($("ul.filter-list li.minus")):$(".msj-filtro").show()}),$(document).on("click",".btn-done",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=parseInt(b[0].goalkeeper,10)+parseInt(b[0].defender,10)+parseInt(b[0].midfielder,10)+parseInt(b[0].attacker,10)+parseInt(b[0].manager,10),d=b[1].miPlayers.split(",").clean(""),e=b[3].token,f=b[4].league,g=$("ul.formations li.selected a").text();12===c&&""!==e?saveTeam(d,g,f,e):12!==c?($(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)):location.href="/perfil.html#login"}),$(document).on("click",".formations li a",function(a){a.preventDefault();var b,c=$(this).attr("data-id"),d=$(".mi-team li"),e=$.parseJSON(getCookie("players"));switch($(".formations li.selected").removeClass("selected"),$(this).parent("li").toggleClass("selected"),$(".mi-team li.hide").removeClass("hide"),c){case"1":$.each(d,function(a,b){(5===a||9===a||13===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=4,e[2].midfielder=3,e[2].attacker=3;break;case"2":$.each(d,function(a,b){(5===a||12===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=4,e[2].midfielder=4,e[2].attacker=2;break;case"3":$.each(d,function(a,b){(4===a||5===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=3,e[2].midfielder=4,e[2].attacker=3;break;case"4":$.each(d,function(a,b){(9===a||12===a)&&(b.className+=" hide")}),e[2].goalkeeper=1,e[2].defender=5,e[2].midfielder=3,e[2].attacker=2}e=JSON.stringify(e),setCookie("players",e,1e3),b=$.parseJSON(getCookie("players")),createListSelectPlayer(b)}),$(document).on("click",".mi-team li a.ic-choose",function(a){a.preventDefault();var b,c,d=$(this).attr("data-pos");$(this).hasClass("minus")?($(this).removeClass("minus").addClass("plus"),$(this).addClass("plus"),removePlayer($(this),"players"),c=$.parseJSON(getCookie("players")),createListSelectPlayer(c)):(b="",$(".mi-team li a").removeClass("ic-choose"),$("body").addClass("bk-create-team"),callPlayers(d,b))}),$(document).on("click",".to-select li a.ic-choose",function(a){a.preventDefault(),$(this).hasClass("plus")?addPlayer($(this)):$(this).hasClass("minus")&&($(this).removeClass("minus"),$(this).addClass("plus"),removePlayer($(this),"seleccion"))}),$(document).on("click",".btn-back-team",function(a){a.preventDefault(),setCookie("players",getCookie("seleccion"),1e3);var b=$.parseJSON(getCookie("players"));window.scrollTo(0,0),createListSelectPlayer(b),showPlayersSelectionLyF(),$("span.text-title").empty().text($("body").hasClass("editar-team")?i18n.getTranslation("txt_edit_team"):i18n.getTranslation("txt_create_team")),$("body").removeClass("bk-create-team"),window.history.back()}),$(document).on("click","a.btn-team-edit",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));b[4].league=$(this).attr("data-idLeague"),b[5].season=$(this).attr("data-idSeason"),b=JSON.stringify(b),setCookie("players",b,1e3),location.href="/editar-equipo.html#edit="+$(this).attr("data-id-league-user")}),$(document).on("click","a.btn-edit-team",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=parseInt(b[0].goalkeeper,10)+parseInt(b[0].defender,10)+parseInt(b[0].midfielder,10)+parseInt(b[0].attacker,10)+parseInt(b[0].manager,10),d=b[1].miPlayers.split(",").clean(""),e=b[3].token,f=(b[4].league,$("ul.formations li.selected a").text()),g=document.location.hash.split("="),h=g[1];12===c&&""!==e?editTeam(d,f,b[4].league,h,e):12!==c?($(".msj-error").show(),setTimeout(function(){$(".msj-error").hide()},3e3)):location.href="/perfil.html#login"}),$(document).on("click","a.btn-confirm-league",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players"));b[4].league=$(".container-details ul.list li.league").attr("data-idLeague"),b[5].season=$(".container-details ul.list li.league").attr("data-idSeason"),b=JSON.stringify(b),setCookie("players",b,1e3),location.href="/crear-equipo.html"}),$(document).on("click","body.subscription-page a.btn-edit-user",function(a){a.preventDefault();var b=$.parseJSON(getCookie("players")),c=$(this).siblings("input.input-sub-on").val(),d=b[3].token;""!==c?($(".loading").show(),$.ajax({type:"POST",url:API_URL+"/api/me/",data:{token:d,nick:c},dataType:"json",success:function(){},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})):showError(i18n.getTranslation("txt_name_field_incomplete"))}),$(document).on("click","a.login-user",function(a){a.preventDefault();var b,c=$(".cel-number").val().toString(),d=$(".cel-number-prefix").val().toString(),e=$(".personal-pass").val(),f=i18n.getTranslation("txt_error_entrada_telefono"),g=$.parseJSON(getCookie("players")),h="";null!==getCookie("players")&&(b=g[1].miPlayers.split(",").clean(""),b.length>0&&(h="saveTeam")),celNumber=d+c,/^([0-9])*$/.test(celNumber)&&0!==d.length&&0!==c.length&&0!==e.length?sendLogin(celNumber,e,h):($("#login .msj-error").text(f).show(),setTimeout(function(){$("#login .msj-error").hide()},3e3))}),$(document).on("click","a.send-pass-sms",function(a){a.preventDefault(),location.hash="send-pwd-sms",location.reload()}),$(document).on("click","a.send-sms",function(a){a.preventDefault();var b=$("input.input-sms").val().toString(),c=$("input.input-sms-prefix").val().toString(),d=$(this).siblings(".msj-error");d.hide(),$("input.input-sms");var e=new RegExp(PIN_VALIDATION_REGEX,"g"),f=c+b;b.length&&c.length&&e.test(f)?$.ajax({type:"POST",url:API_URL+"/api/me/pin/reset/",data:{ani:f},dataType:"json",success:function(){$(".loading").hide(),location.hash="login",location.reload()},error:function(a){$(".loading").hide(),showError(a.response)},complete:function(){$(".loading").hide()}}):(d.text(i18n.getTranslation("msg_invalid_phone_number")).show(),setTimeout(function(){d.hide()},3e3))}),$(document).on("click","a.btn-back",function(){window.history.back()}),$(document).on("click","a.activate-subscription",function(a){a.preventDefault(),ga("send","pageview","/perfil.html#btn-activar-subscripcion"),$(".loading").show();var b=$.parseJSON(getCookie("players")),c=b[3].token;$.ajax({type:"POST",data:{token:c},url:API_URL+"/api/me/subscriptions/subscribe",dataType:"json",success:function(){location.href="/exito.html#suscribe"},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}),$(document).on("click","a.deactivate-subscription",function(a){a.preventDefault(),ga("send","pageview","/perfil.html#btn-desactivar-subscripcion"),$(".loading").show();var b=$.parseJSON(getCookie("players")),c=b[3].token;$.ajax({type:"POST",data:{token:c},url:API_URL+"/api/me/subscriptions/unsubscribe",dataType:"json",success:function(){location.hash="subscription-off",location.reload()},error:function(a){showError(a.response)},complete:function(){$(".loading").hide()}})}),window.onhashchange=function(){$("body").hasClass("bk-create-team")&&"#seleccion"!==location.hash&&"#filter"!==location.hash&&($("body").removeClass("bk-create-team"),createListSelectPlayer($.parseJSON(getCookie("players"))),showPlayersSelectionLyF(),$("span.text-title").empty().text($("body").hasClass("editar-team")?i18n.getTranslation("txt_edit_team"):i18n.getTranslation("txt_create_team"))),$("body").hasClass("filtros")&&"#filter"!==location.hash&&($("#players").show(),$("p.count-rol").show(),$("#filters").hide(),$("body").removeClass("filtros").addClass("bk-create-team"),$("body").toggleClass("show-msj filter-msj"),$("body").removeClass("filtros filter-msj").addClass("bk-create-team show-msj"),$("span.text-title").empty().text(i18n.getTranslation("txt_select_players"))),"/mis-equipos.html"===document.location.pathname&&"#teams"!=document.location.hash&&($(".my-teams-by-event").hide(),$(".events").show()),$("body").hasClass("profile")&&"#login"===location.hash&&location.reload()},$(document).on("click",".history-back",function(a){if(a.preventDefault(),($("body").hasClass("subscription-perfil")||$("body").hasClass("home"))&&$(this).text()!==i18n.getTranslation("txt_volver"))$("#subscription").hasClass("active")&&window.history.back();else if($("body").hasClass("league"))if($("body.league").hasClass("active-league"))$("body.active-league").removeClass("active-league"),location.reload();else{var b=$.parseJSON(getCookie("players")),c=b[3].token||"";location.href=""===c?"/index.html":"/home.html"}else window.history.back()}),$(document).on("click",".banner",function(a){a.preventDefault(),ga("send","pageview","/suscripcion.html"),location.href="suscripcion.html#suscribe"});var i18n=function(){var a="es",b=function(){return navigator.language?navigator.language:navigator.userLanguage},c=b();c&&c.length>2&&(c=c.substring(0,2)),c=""!==CLIENT_LANGUAGE?CLIENT_LANGUAGE:c?c:a;var d={es:{txt_pregunta_futbol:"¿Cuánto sabés de fútbol?",txt_desafio_desc:"Armá tu equipo ideal y ganá increibles premios cada semana.",txt_jugar:"Creá tu equipo ganador",txt_ingresar:"Ingresá",txt_tip:"Tip: Podés armar tu equipo con los jugadores de los equipos que se enfrentan esta semana.",btn_confirma_liga:"Confirmar Liga",txt_suscribe_bienvenido:"¡Estás suscripto!",txt_suscribe_bienvenido2:"Recordá: La clave para ganar la tablet es crear más equipos!.",txt_suscribe_bienvenido3:"Creá los tuyos ya!.",btn_continuar_desafio:"Continuar en "+CLIENT_LABEL,txt_susc_step2:"Bienvenido a la suscripción semanal de "+CLIENT_LABEL+".",txt_susc_step2_activa:"Activa tu suscripción para poder crear todos los equipos que quieras y así aumentar tus chances de ganar.",txt_susc_step2_pregunta:"¿Queres suscribirte a "+CLIENT_LABEL+"?",btn_guardar:"Guardá nombre de usuario",txt_envio_clave:"Envio de clave provisoria por SMS",txt_msj_provisoria:"Recibirás un mensaje de texto con una clave de 4 dígitos, esa es tu clave provisoria para "+CLIENT_LABEL+".",txt_enviar:"Enviar clave provisoria",txt_volver:"Volver",txt_semanal:"Suscripción Semanal",txt_activa:"Suscripción activa",txt_desactiva_susc:"Desactivar suscripción",txt_susc_inactiva:"Suscripción inactiva",txt_activa_susc_save_team:"Suscribite, guardá tu equipo y ganá",txt_activa_susc:"Activar suscripción",txt_activa_susc_off:"Activa tu suscripción para poder crear todos los equipos que quieras y así aumentar tus chances de ganar.",txt_suscription_cost:"* Costo de la suscripción $7.25 final por semana. La suscripción se renovará automáticamente. El tráfico de navegación dentro del sitio así como el contenido publicado están bonificados. Para cancelar la suscripción, enviá 'BAJA' al 7676.",txt_login_bienvenida:"¡Bienvenido! Guardá tu equipo y seguí jugando, entra a tu cuenta con la clave Personal y número de línea. Hay muchas tablets por entregar!",btn_clave_temporal:"Enviá clave provisoria",txt_error_entrada_telefono:"Ingrese un número de teléfono y una clave",msg_invalid_phone_number:"Ingrese un número de linea válido",lbl_clave_personal:"Clave Personal",lbl_clave_ej:"Ej:99321234",lbl_number_prefix:"Ej:11",lbl_username:"Nombre de usuario",txt_remaining_hours:"Faltan %1s Horas",txt_remaining_minutes:"Faltan %1s Minutos",txt_remaining_day:"Falta %1s Día",txt_remaining_days:"Faltan %1s Días",txt_choose_league:"Elegí una liga",txt_ranking:"Ranking",txt_my_teams:"Mis Equipos",txt_show_team:"Ver Equipo",txt_rules:"Reglamento",txt_congratulations:"¡Felicitaciones!",txt_prizes:"Premios",txt_edit_team:"Editá tu equipo",txt_suscription:"Suscripción",txt_create_team:"Creá tu equipo ganador",txt_available_games:" - Partidos disponibles esta semana:",txt_profile:"Perfil",txt_hide_menu:"Ocultar Menu",txt_games:"Partidos",txt_games_this_week:"%1s - Partidos disponibles esta semana:",msg_service_error:"No se ha podido cargar la información. Intentelo nuevamente",err_missing_players:"¡Te faltan jugadores!",btn_save_team:"Guardá tu equipo ganador",tip_select_active_players:"Tip: Seleccioná los partidos en los que participen los jugadores que buscás.",err_select_a_game:"Seleccioná al menos un partido.",btn_apply_filter:"Aplicar Filtro",txt_goalkeeper:"AR",txt_defender:"DF",txt_midfielder:"MD",txt_attacker:"DL",txt_manager:"DT",txt_select_mgr:"Seleccioná técnico",txt_select_player:"Seleccioná jugador",btn_save_selection:"Guardar Selección",txt_select_players:"Seleccioná jugadores",txt_goalkeeper_lbl:"Arquero",txt_defender_lbl:"Defensor",txt_midfielder_lbl:"Volante",txt_attacker_lbl:"Delantero",txt_manager_lbl:"Director Técnico",txt_page_not_found:"¡Ups ha ocurrido un problema!, estamos trabajando para solucionarlo.",txt_team_completed1:"¡Ya estas participando por esta tablet!",txt_team_completed2:"Para aumentar tus chances de ganar creá más equipos activando tu suscripción.",txt_team_completed3:"¡Ya estas participando <span>por un premio!</span>",btn_continue_playing:"Seguir Jugando",btn_continue_in:"Continuar en "+CLIENT_LABEL,txt_susc_welcome1:"Para guardar tu equipo <br/>y aumentar tus chances <br/>de ganar creando muchos más,<br/>activá tu suscripción.",txt_banner:"Banner",txt_current_week:"Semana Actual",txt_last_week:"Semana Anterior",txt_teams_created:'<span class="user-name"></span> tenés <span class="teams-quantity">0</span> <span class="team-text">equipos creados </span> hasta el momento.',txt_user_winner:'El ganador fue <span class="user-nick"></span> con <span class="user-points"></span> puntos.',txt_user_ranking:'Tu Ranking fue <span class="user-rank"></span> y sumaste <span class="user-points"></span> puntos.',txt_last_ranking:"Ranking de la última semana",txt_user:"Usuario",txt_puntos:"Ptos",txt_sum_points:"Sumaste %1s puntos.",txt_no_teams:"No hay equipos disponibles",txt_team_edit:"Editar Equipo",txt_in_game:"En Juego",txt_Puntos:"Puntos",txt_total_points:"Total puntos: - ",txt_position:"Posición",txt_name:"Nombre",txt_player_no_points:"El jugador no sumó puntos.",txt_name_field_incomplete:"Debe escribir un nombre de usuario",terms_section1:"¿Qué es TheFanLeague?",terms_section2:"Equipo",terms_section3:"Puntos",terms_section4:"Ranking",terms_section5:"Suscripción",terms_section6:"¿Qué sucede si uno de mis jugadores no juega una jornada?",terms_section7:"¿Qué sucede cuando se cancela una jugada?",terms_section8:"¿Qué sucede si los goles, las tarjetas amarillas, las asistencias se están modificando después de que haya acabado el partido?",terms_section9:"¿Qué sucede si uno de mis jugadores juega en una posición diferente?",terms_s1_paragraph1:"TheFanLeague es un juego de deportes de fantasía que te permite crear equipos virtuales en cualquier momento durante la temporada y ganar increíbles premios. Sólo tenés que seleccionar la liga y crear el mejor equipo posible eligiendo los jugadores y directores técnicos que tengas a disposición.",terms_s1_paragraph2:"El objetivo del juego es acumular la mayor cantidad de puntos en base a la actuación que cada uno de los integrantes de tus equipos según su performance en los partidos que participen. Semanalmente podrás crear muchos equipos y así ganar.",terms_s2_paragraph1:"Podrás elegir entre varios torneos de fútbol alrededor del mundo, entre ellas las Liga de Argentina A y B, la Española o Inglesa, entre otras. Una vez que hayas elegido una liga, tendrás que elegir tu equipo de fantasía para esa semana eligiendo los jugadores y directores técnicos que tengas a disposición según los partidos que aún están por comenzar.",terms_s2_paragraph2:"Podrás elegir entre las siguientes formaciones 1-4-3-3; 1-4-4-2; 1-3-4-3; 1-5-3-2 y en ella asignar un jugador de campo por cada posición y un director técnico (DT), teniendo en cuenta que solo podrás seleccionar dos integrantes de un mismo equipo.",terms_s2_paragraph3:"Las modificaciones a los equipos se podrán realizar hasta la fecha límite de comienzo del primer involucrado en la contienda.",terms_s3_paragraph1:"Terminada cada jornada de los respectivos torneos, los puntos a los integrantes de tus equipos serán asignados de la siguiente manera:",terms_s3_paragraph2:"* La diferencia de gol, se suma o resta, según la diferencia entre goles recibidos y convertidos sea positiva o negativa, al DT del equipo virtual.",terms_s4_paragraph1:"El ranking de los participantes es según la sumatoria total de puntos obtenidos por los equipos creados para esa semana. A los efectos del juego la semana se toma desde el miércoles hasta el martes de la siguiente.",terms_s5_paragraph1:"Acceder a la suscripción semanal te permite crear ilimitada cantidad de equipos y así multiplicar tus chances de ganar.",terms_s6_paragraph1:"Si uno de los jugadores elegidos no jugó en la jornada, no podrá recibir ni perder puntos para tu equipo.",terms_s7_paragraph1:"Si se cancela una competición todos los equipos que participan de ella sumarán 0 puntos, esto puede ocurrir cuando por algún motivo ajeno al juego se cancelan o postergan partidos.",terms_s8_paragraph1:"Todos los puntos se calculan según los datos recibidos en tiempo real. Puede ocurrir que los eventos del encuentro, (al igual que los puntos) sean asignados incorrectamente a un jugador. Es por eso que su decisión será definitiva en un plazo de 24 horas a partir del final del último partido de la jornada.",terms_s9_paragraph1:"Es posible que un jugador juegue en una posición diferente para tu equipo. En este caso, el jugador recibirá los puntos determinados por la posición que aparece en TheFanLeague.",terms_goalkeeper:"ARQ",terms_defender:"DEF",terms_midfielder:"CEN",terms_attacker:"DEL",terms_manager:"DT",terms_stats1:"Goles de penal",terms_stats2:"Goles convertidos",terms_stats3:"Goles recibidos",terms_stats4:"Gol en contra",terms_stats5:"Valla invicta",terms_stats6:"Tarjetas amarillas",terms_stats7:"Tarjeta roja",terms_stats8:"Penales errados",terms_stats9:"Penales atajados",terms_stats10:"Juega todo el partido",terms_stats11:"Hat trick bonus",terms_stats12:"Gana de local",terms_stats13:"Gana de visitante",terms_stats14:"Pierde de local",terms_stats15:"Pierde de visitante",terms_stats16:"Empate de local",terms_stats17:"Empate de visitante",terms_stats18:"Diferencia de gol positiva",terms_stats19:"Diferencia de gol negativa",terms_stats20:"Jugando en equipo que gana",terms_stats21:"Jugando en equipo que pierde",terms_stats22:"Jugando en equipo que empata",txt_filter_by_game:"Filtrá por partidos",txt_players_selection:"Selección de Jugadores",msg_team_created:"equipo creado",msg_teams_created:"equipos creados",txt_week_prizes:"¡Seguí jugando y ganá la tuya!",txt_keep_playing:"Muchos ya participaron y se llevaron esta Tablet.",lbl_loading:"Cargando",lbl_load_more:"Mas",btn_build_teams:"Creá más equipos.",btn_build_more_teams:"Creá más equipos",btn_goto_account:"Ir a mi Cuenta",lbl_back_to:CLIENT_HOME_LINK_LABEL,lbl_terms_conditions:"Términos y condiciones",lbl_phase_group:"Fase de grupo",lbl_phase_round_of_sixteen:"Fase de octavos",lbl_phase_quarter_final:"Fase de cuartos",lbl_phase_semifinal:"Fase de semifinal",lbl_phase_final:"Fase de final/3° puesto",lbl_round_one:"Fecha 1",lbl_round_two:"Fecha 2",lbl_round_three:"Fecha 3",lbl_round_four:"Fecha 4",lbl_round_five:"Fecha 5",lbl_round_six:"Fecha 6",lbl_round_seven:"Fecha 7",lbl_phone_number:"Número de línea",lbl_phone_key:"Clave Personal",forgot_key:"Olvidé mi clave",create_key:"No tengo clave",lbl_change_username:"Cambiá tu nombre de usuario",txt_activa_tip:"Recordá: La clave para ganar la tablet es crear más equipos con tu suscripción activa!!!",lbl_round_1:"Fase de grupo - Fecha 1",lbl_round_2:"Fase de grupo - Fecha 2",lbl_round_3:"Fase de grupo - Fecha 3",lbl_round_4:"Fase de octavos - Fecha 4",lbl_round_5:"Fase de cuartos - Fecha 5",lbl_round_6:"Fase de semifinal - Fecha 6",lbl_round_7:"Fase de Final/3° puesto - Fecha 7"},en:{txt_pregunta_futbol:"How much do you know about football?",txt_desafio_desc:"Plan your dream team and win incredible prizes every week.",txt_jugar:"Create your team",txt_ingresar:"Enter",txt_tip:"Tip. You can build your team with players from opposing teams this week",btn_confirma_liga:"Confirm league",txt_suscribe_bienvenido:"!Your are suscribed!.",txt_suscribe_bienvenido2:"By activating your subscription you can create all teams you want to increase your winning chances.",txt_suscribe_bienvenido3:"You are ready to start!.",btn_continuar_desafio:"Continue on "+CLIENT_LABEL,txt_susc_step2:"Welcome to the weekly subscription of "+CLIENT_LABEL+".",txt_susc_step2_activa:"Activate your subscription to create all teams you want and increase your winning chances.",txt_susc_step2_pregunta:"Do you want to suscribe to "+CLIENT_LABEL,btn_guardar:"Save user name",txt_envio_clave:"Send temporal code by SMS",txt_msj_provisoria:"You will receive a text message with a 4 digit password, this is your temporary password for "+CLIENT_LABEL+".",txt_enviar:"Enviar clave provisoria",txt_volver:"Back",txt_semanal:"Weekly Subscription",txt_activa:"Active subscription",txt_desactiva_susc:"Disable subscription",txt_susc_inactiva:"Inactive subscription",txt_activa_susc_save_team:"Suscribite, guardá tu equipo y ganá",txt_activa_susc:"Activate subscription",txt_activa_susc_off:"Activate your subscription to create all teams you want and increase your winning chances.",txt_suscription_cost:"* Costo de la suscripción $7.25 final por semana. La suscripción se renovará automáticamente. El tráfico de navegación dentro del sitio así como el contenido publicado están bonificados. Para cancelar la suscripción, enviá 'BAJA' al 7676 .",txt_login_bienvenida:"Welcome to "+CLIENT_LABEL+". A new way of living your passion where you want, when you want.",btn_clave_temporal:"Send temporal code",txt_error_entrada_telefono:"Enter a cel number and a code",msg_invalid_phone_number:"Enter a valid phone number",lbl_clave_personal:"Personal Code",lbl_clave_ej:"Ex:99321234",lbl_number_prefix:"Ej:11",lbl_username:"User name",txt_remaining_hours:"%1s remaining hours",txt_remaining_minutes:"%1s remaining minutes",txt_remaining_day:"%1s remaining day",txt_remaining_days:"%1s remaining days",txt_choose_league:"Choose a league",txt_ranking:"Ranking",txt_my_teams:"My teams",txt_show_team:"Show team",txt_rules:"Rules",txt_congratulations:"Congratulations!",txt_prizes:"Prizes",txt_edit_team:"Edit your team",txt_suscription:"Suscription",txt_create_team:"Build your team",txt_available_games:" - Available games this week:",txt_profile:"Profile",txt_hide_menu:"Hide Menu",txt_games:"Games",txt_games_this_week:"%1s - Available games this week:",msg_service_error:"Information not available. Try again",err_missing_players:"You have missing players!",btn_save_team:"Save Team",tip_select_active_players:"Tip: Select your player games.",err_select_a_game:"Select at least one game.",btn_apply_filter:"Apply Filter",txt_goalkeeper:"GK",txt_defender:"DF",txt_midfielder:"MF",txt_attacker:"FW",txt_manager:"MG",txt_select_mgr:"Select a manager",txt_select_player:"Select a player",btn_save_selection:"Save selection",txt_select_players:"Select players",txt_goalkeeper_lbl:"Goalkeeper",txt_defender_lbl:"Defender",txt_midfielder_lbl:"Midfielder",txt_attacker_lbl:"Forward",txt_manager_lbl:"Manager",txt_page_not_found:"Ups an error ocurred!, we are working on it.",txt_team_completed1:"¡Ya estas participando por esta tablet!",txt_team_completed2:"Creá más equipos y aumentá tus chances de ganar.",txt_team_completed3:"You are already participating<span>for a prize!</span>",btn_continue_playing:"Continue Playing",btn_continue_in:"Continue in "+CLIENT_LABEL,txt_susc_welcome1:"Activate now your suscription, create all teams you want and increase your winning chances!",txt_banner:"Banner",txt_current_week:"Current Week",txt_last_week:"Last Week",txt_teams_created:'<span class="user-name"></span> you have <span class="teams-quantity">0</span> <span class="team-text">teams created </span> till now.',txt_user_winner:'The winner was <span class="user-nick"></span> with <span class="user-points"></span> points.',txt_user_ranking:'Your ranking was <span class="user-rank"></span> and you earn <span class="user-points"></span> points.',txt_last_ranking:"Ranking from last week",txt_user:"User",txt_puntos:"Points",txt_sum_points:"You have earned %1s points.",txt_no_teams:"No teams available",txt_team_edit:"Edit Team",txt_in_game:"In Game",txt_Puntos:"Points",txt_total_points:"Total points",txt_position:"Position",txt_name:"Name",txt_player_no_points:"The player did not score any point.",txt_name_field_incomplete:"Username is required",terms_section1:"What's TheFanLeague?",terms_section2:"Team",terms_section3:"Points",terms_section4:"Ranking",terms_section5:"Subscription",terms_section6:"¿Qué sucede si uno de mis jugadores no juega una jornada?",terms_section7:"¿Qué sucede cuando se cancela una jugada?",terms_section8:"¿Qué sucede si los goles, las tarjetas amarillas, las asistencias se están modificando después de que haya acabado el partido?",terms_section9:"¿Qué sucede si uno de mis jugadores juega en una posición diferente?",terms_s1_paragraph1:"TheFanLeague es un juego de deportes de fantasía que te permite crear equipos virtuales en cualquier momento durante la temporada y ganar increíbles premios. Sólo tenés que seleccionar la liga y crear el mejor equipo posible eligiendo los jugadores y directores técnicos que tengas a disposición.",terms_s1_paragraph2:"El objetivo del juego es acumular la mayor cantidad de puntos en base a la actuación que cada uno de los integrantes de tus equipos según su performance en los partidos que participen. Semanalmente podrás crear muchos equipos y así ganar.",terms_s2_paragraph1:"Podrás elegir entre varios torneos de fútbol alrededor del mundo, entre ellas las Liga de Argentina A y B, la Española o Inglesa, entre otras. Una vez que hayas elegido una liga, tendrás que elegir tu equipo de fantasía para esa semana eligiendo los jugadores y directores técnicos que tengas a disposición según los partidos que aún están por comenzar.",terms_s2_paragraph2:"Podrás elegir entre las siguientes formaciones 1-4-3-3; 1-4-4-2; 1-3-4-3; 1-5-3-2 y en ella asignar un jugador de campo por cada posición y un director técnico (DT), teniendo en cuenta que solo podrás seleccionar dos integrantes de un mismo equipo.",terms_s2_paragraph3:"Las modificaciones a los equipos se podrán realizar hasta la fecha límite de comienzo del primer involucrado en la contienda.",terms_s3_paragraph1:"Terminada cada jornada de los respectivos torneos, los puntos a los integrantes de tus equipos serán asignados de la siguiente manera:",terms_s3_paragraph2:"* La diferencia de gol, se suma o resta, según la diferencia entre goles recibidos y convertidos sea positiva o negativa, al DT del equipo virtual.",terms_s4_paragraph1:"El ranking de los participantes es según la sumatoria total de puntos obtenidos por los equipos creados para esa semana. A los efectos del juego la semana se toma desde el miércoles hasta el martes de la siguiente.",terms_s5_paragraph1:"Acceder a la suscripción semanal te permite crear ilimitada cantidad de equipos y así multiplicar tus chances de ganar.",terms_s6_paragraph1:"Si uno de los jugadores elegidos no jugó en la jornada, no podrá recibir ni perder puntos para tu equipo.",terms_s7_paragraph1:"Si se cancela una competición todos los equipos que participan de ella sumarán 0 puntos, esto puede ocurrir cuando por algún motivo ajeno al juego se cancelan o postergan partidos.",terms_s8_paragraph1:"Todos los puntos se calculan según los datos recibidos en tiempo real. Puede ocurrir que los eventos del encuentro, (al igual que los puntos) sean asignados incorrectamente a un jugador. Es por eso que su decisión será definitiva en un plazo de 24 horas a partir del final del último partido de la jornada.",terms_s9_paragraph1:"Es posible que un jugador juegue en una posición diferente para tu equipo. En este caso, el jugador recibirá los puntos determinados por la posición que aparece en TheFanLeague.",terms_goalkeeper:"GLK",terms_defender:"DEF",terms_midfielder:"MID",terms_attacker:"FRW",terms_manager:"MGR",terms_stats1:"Goles de penal",terms_stats2:"Goles convertidos",terms_stats3:"Goles recibidos",terms_stats4:"Gol en contra",terms_stats5:"Valla invicta",terms_stats6:"Tarjetas amarillas",terms_stats7:"Tarjeta roja",terms_stats8:"Penales errados",terms_stats9:"Penales atajados",terms_stats10:"Juega todo el partido",terms_stats11:"Hat trick bonus",terms_stats12:"Gana de local",terms_stats13:"Gana de visitante",terms_stats14:"Pierde de local",terms_stats15:"Pierde de visitante",terms_stats16:"Empate de local",terms_stats17:"Empate de visitante",terms_stats18:"Diferencia de gol positiva",terms_stats19:"Diferencia de gol negativa",terms_stats20:"Jugando en equipo que gana",terms_stats21:"Jugando en equipo que pierde",terms_stats22:"Jugando en equipo que empata",txt_filter_by_game:"Filter by games",txt_players_selection:"Player Selection",msg_team_created:"team created",msg_teams_created:"teams created",txt_week_prizes:"¡Seguí jugando y ganá la tuya!",txt_keep_playing:"Muchos ya participaron y se llevaron esta Tablet.",lbl_loading:"Loading",lbl_load_more:"More",btn_build_teams:"Creá más equipos.",btn_build_more_teams:"Create more teams",btn_goto_account:"Ir a mi Cuenta",lbl_back_to:CLIENT_HOME_LINK_LABEL,lbl_terms_conditions:"Terms and conditions",lbl_phase_group:"Fase de grupo",lbl_phase_round_of_sixteen:"Octavos de Final",lbl_phase_quarter_final:"Cuartos de final",lbl_phase_semifinal:"Semifinal",lbl_phase_final:"Final/ 3 puesto",lbl_round_one:"Round 1",lbl_round_two:"Round 2",lbl_round_three:"Round 3",lbl_round_four:"Round 4",lbl_round_five:"Round 5",lbl_round_six:"Round 6",lbl_round_seven:"Round 7",lbl_phone_number:"Número de línea",lbl_phone_key:"Clave Personal",forgot_key:"Olvidé mi clave",create_key:"No tengo clave",lbl_change_username:"Change my username",txt_activa_tip:"Recordá: La clave para ganar la tablet es crear más equipos con tu suscripción activa!!!",lbl_round_1:"Fase de grupo - Fecha 1",lbl_round_2:"Fase de grupo - Fecha 2",lbl_round_3:"Fase de grupo - Fecha 3",lbl_round_4:"Fase de octavos - Fecha 4",lbl_round_5:"Fase de cuartos - Fecha 5",lbl_round_6:"Fase de semifinal - Fecha 6",lbl_round_7:"Fase de Final/3° puesto - Fecha 7"}},e=function(a){a.each(function(){$(this).html(i($(this).attr("idiom")))
})},f=function(a){a.each(function(){$(this).attr("placeholder",d[c][$(this).attr("placeholder")])})},g=function(a){return e(a.find("[idiom]")),f(a.find("[placeholder]")),a},h=function(a){var b="<span>"+a+"</span>";return g($(b)).html()},i=function(b){return d[c][b]?d[c][b]:d[a][b]};return{translate:g,detectLanguage:b,getTranslation:i,translateTemplate:h}}();